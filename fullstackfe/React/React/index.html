<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React | Full Stack Engineer</title>
    <meta name="description" content="种一棵树最好的时间是十年前，其次就是现在。">
    <link rel="icon" href="/Blog/favicon.png">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.7d79d930.css" as="style"><link rel="preload" href="/Blog/assets/js/app.9b1cff62.js" as="script"><link rel="preload" href="/Blog/assets/js/20.16e98ccf.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.03fdae6f.js"><link rel="prefetch" href="/Blog/assets/js/100.74851e27.js"><link rel="prefetch" href="/Blog/assets/js/101.a8331df3.js"><link rel="prefetch" href="/Blog/assets/js/102.66093c84.js"><link rel="prefetch" href="/Blog/assets/js/103.a2a68001.js"><link rel="prefetch" href="/Blog/assets/js/104.7d8390e6.js"><link rel="prefetch" href="/Blog/assets/js/105.e165092f.js"><link rel="prefetch" href="/Blog/assets/js/106.68747284.js"><link rel="prefetch" href="/Blog/assets/js/107.c130bd8c.js"><link rel="prefetch" href="/Blog/assets/js/108.060883b0.js"><link rel="prefetch" href="/Blog/assets/js/109.6ccf07b3.js"><link rel="prefetch" href="/Blog/assets/js/11.b7d9ee41.js"><link rel="prefetch" href="/Blog/assets/js/110.8ebb3f5b.js"><link rel="prefetch" href="/Blog/assets/js/111.bc9bf306.js"><link rel="prefetch" href="/Blog/assets/js/112.a5c9d0a4.js"><link rel="prefetch" href="/Blog/assets/js/113.7a68bb85.js"><link rel="prefetch" href="/Blog/assets/js/114.6d489d0a.js"><link rel="prefetch" href="/Blog/assets/js/115.8b31c508.js"><link rel="prefetch" href="/Blog/assets/js/116.ddd1676c.js"><link rel="prefetch" href="/Blog/assets/js/117.278275d8.js"><link rel="prefetch" href="/Blog/assets/js/118.906b76cd.js"><link rel="prefetch" href="/Blog/assets/js/119.0c229826.js"><link rel="prefetch" href="/Blog/assets/js/12.0fc01f9b.js"><link rel="prefetch" href="/Blog/assets/js/120.c88a521c.js"><link rel="prefetch" href="/Blog/assets/js/121.82668829.js"><link rel="prefetch" href="/Blog/assets/js/122.fccbd23a.js"><link rel="prefetch" href="/Blog/assets/js/123.12980065.js"><link rel="prefetch" href="/Blog/assets/js/124.5f29f942.js"><link rel="prefetch" href="/Blog/assets/js/125.17cfb9f5.js"><link rel="prefetch" href="/Blog/assets/js/126.5cc955bd.js"><link rel="prefetch" href="/Blog/assets/js/127.bdb1786e.js"><link rel="prefetch" href="/Blog/assets/js/128.017d8c6f.js"><link rel="prefetch" href="/Blog/assets/js/129.82502fed.js"><link rel="prefetch" href="/Blog/assets/js/13.e20ec1ea.js"><link rel="prefetch" href="/Blog/assets/js/130.46c9bf19.js"><link rel="prefetch" href="/Blog/assets/js/131.88ce9377.js"><link rel="prefetch" href="/Blog/assets/js/132.6efc063a.js"><link rel="prefetch" href="/Blog/assets/js/133.0a9f325d.js"><link rel="prefetch" href="/Blog/assets/js/134.6fc8d8e3.js"><link rel="prefetch" href="/Blog/assets/js/135.52453b87.js"><link rel="prefetch" href="/Blog/assets/js/136.5fd1268b.js"><link rel="prefetch" href="/Blog/assets/js/137.a76f2243.js"><link rel="prefetch" href="/Blog/assets/js/138.53b353cc.js"><link rel="prefetch" href="/Blog/assets/js/139.333d9ce4.js"><link rel="prefetch" href="/Blog/assets/js/14.ae6ee6fb.js"><link rel="prefetch" href="/Blog/assets/js/140.5c19fac7.js"><link rel="prefetch" href="/Blog/assets/js/141.50f20023.js"><link rel="prefetch" href="/Blog/assets/js/142.0914a1d8.js"><link rel="prefetch" href="/Blog/assets/js/143.d21dd047.js"><link rel="prefetch" href="/Blog/assets/js/144.8032be8d.js"><link rel="prefetch" href="/Blog/assets/js/145.b81635d8.js"><link rel="prefetch" href="/Blog/assets/js/146.165fc7b4.js"><link rel="prefetch" href="/Blog/assets/js/147.b40e46aa.js"><link rel="prefetch" href="/Blog/assets/js/148.0f0de456.js"><link rel="prefetch" href="/Blog/assets/js/149.c9c393d9.js"><link rel="prefetch" href="/Blog/assets/js/15.45b8446e.js"><link rel="prefetch" href="/Blog/assets/js/150.6cdc08ab.js"><link rel="prefetch" href="/Blog/assets/js/151.4858c28b.js"><link rel="prefetch" href="/Blog/assets/js/152.4cc133ee.js"><link rel="prefetch" href="/Blog/assets/js/153.7eea1f53.js"><link rel="prefetch" href="/Blog/assets/js/16.d58e6b8c.js"><link rel="prefetch" href="/Blog/assets/js/17.a78f924b.js"><link rel="prefetch" href="/Blog/assets/js/18.975933d0.js"><link rel="prefetch" href="/Blog/assets/js/19.976fd42e.js"><link rel="prefetch" href="/Blog/assets/js/2.8b709eb3.js"><link rel="prefetch" href="/Blog/assets/js/21.a150fd05.js"><link rel="prefetch" href="/Blog/assets/js/22.94040b7d.js"><link rel="prefetch" href="/Blog/assets/js/23.5b9d945a.js"><link rel="prefetch" href="/Blog/assets/js/24.d6924b7e.js"><link rel="prefetch" href="/Blog/assets/js/25.8a9dd776.js"><link rel="prefetch" href="/Blog/assets/js/26.1364a4b5.js"><link rel="prefetch" href="/Blog/assets/js/27.01a1619d.js"><link rel="prefetch" href="/Blog/assets/js/28.8b7a695b.js"><link rel="prefetch" href="/Blog/assets/js/29.59207d30.js"><link rel="prefetch" href="/Blog/assets/js/3.f41d92ed.js"><link rel="prefetch" href="/Blog/assets/js/30.83510497.js"><link rel="prefetch" href="/Blog/assets/js/31.0082afa8.js"><link rel="prefetch" href="/Blog/assets/js/32.e4ae16f7.js"><link rel="prefetch" href="/Blog/assets/js/33.71bea411.js"><link rel="prefetch" href="/Blog/assets/js/34.7c96b0dd.js"><link rel="prefetch" href="/Blog/assets/js/35.b80e18d6.js"><link rel="prefetch" href="/Blog/assets/js/36.59c7bbff.js"><link rel="prefetch" href="/Blog/assets/js/37.a86d1dff.js"><link rel="prefetch" href="/Blog/assets/js/38.a208ce5a.js"><link rel="prefetch" href="/Blog/assets/js/39.9a545a20.js"><link rel="prefetch" href="/Blog/assets/js/4.d40323af.js"><link rel="prefetch" href="/Blog/assets/js/40.7f799a5f.js"><link rel="prefetch" href="/Blog/assets/js/41.e0d3d4f9.js"><link rel="prefetch" href="/Blog/assets/js/42.7d33d0c1.js"><link rel="prefetch" href="/Blog/assets/js/43.b0700a08.js"><link rel="prefetch" href="/Blog/assets/js/44.a78b1dc3.js"><link rel="prefetch" href="/Blog/assets/js/45.80e1ddaf.js"><link rel="prefetch" href="/Blog/assets/js/46.0db140fe.js"><link rel="prefetch" href="/Blog/assets/js/47.02a8123e.js"><link rel="prefetch" href="/Blog/assets/js/48.b94fadb2.js"><link rel="prefetch" href="/Blog/assets/js/49.ead83b1a.js"><link rel="prefetch" href="/Blog/assets/js/5.4517c4f6.js"><link rel="prefetch" href="/Blog/assets/js/50.664889d5.js"><link rel="prefetch" href="/Blog/assets/js/51.1b5ee583.js"><link rel="prefetch" href="/Blog/assets/js/52.b58908a5.js"><link rel="prefetch" href="/Blog/assets/js/53.32681978.js"><link rel="prefetch" href="/Blog/assets/js/54.e7fef1b7.js"><link rel="prefetch" href="/Blog/assets/js/55.e6d550f2.js"><link rel="prefetch" href="/Blog/assets/js/56.0cfd7072.js"><link rel="prefetch" href="/Blog/assets/js/57.3d46d2f8.js"><link rel="prefetch" href="/Blog/assets/js/58.5f196950.js"><link rel="prefetch" href="/Blog/assets/js/59.34cd8d3d.js"><link rel="prefetch" href="/Blog/assets/js/6.8b498e04.js"><link rel="prefetch" href="/Blog/assets/js/60.c1f1af36.js"><link rel="prefetch" href="/Blog/assets/js/61.ee1a194d.js"><link rel="prefetch" href="/Blog/assets/js/62.9f2f7e08.js"><link rel="prefetch" href="/Blog/assets/js/63.7c088e3d.js"><link rel="prefetch" href="/Blog/assets/js/64.e2bb46b0.js"><link rel="prefetch" href="/Blog/assets/js/65.f753c096.js"><link rel="prefetch" href="/Blog/assets/js/66.516e4781.js"><link rel="prefetch" href="/Blog/assets/js/67.66368430.js"><link rel="prefetch" href="/Blog/assets/js/68.7322e7cc.js"><link rel="prefetch" href="/Blog/assets/js/69.de893114.js"><link rel="prefetch" href="/Blog/assets/js/7.06fe3b32.js"><link rel="prefetch" href="/Blog/assets/js/70.782f92d9.js"><link rel="prefetch" href="/Blog/assets/js/71.cae855e3.js"><link rel="prefetch" href="/Blog/assets/js/72.fa15455c.js"><link rel="prefetch" href="/Blog/assets/js/73.570e2132.js"><link rel="prefetch" href="/Blog/assets/js/74.cadf29c6.js"><link rel="prefetch" href="/Blog/assets/js/75.73c1290c.js"><link rel="prefetch" href="/Blog/assets/js/76.70b6fca9.js"><link rel="prefetch" href="/Blog/assets/js/77.56e0580d.js"><link rel="prefetch" href="/Blog/assets/js/78.63eb3b59.js"><link rel="prefetch" href="/Blog/assets/js/79.a1a09dd4.js"><link rel="prefetch" href="/Blog/assets/js/8.40ca314e.js"><link rel="prefetch" href="/Blog/assets/js/80.56837d03.js"><link rel="prefetch" href="/Blog/assets/js/81.c6a73c13.js"><link rel="prefetch" href="/Blog/assets/js/82.e20196ab.js"><link rel="prefetch" href="/Blog/assets/js/83.eface677.js"><link rel="prefetch" href="/Blog/assets/js/84.2365bd14.js"><link rel="prefetch" href="/Blog/assets/js/85.3975b63f.js"><link rel="prefetch" href="/Blog/assets/js/86.e23d9f86.js"><link rel="prefetch" href="/Blog/assets/js/87.19d36deb.js"><link rel="prefetch" href="/Blog/assets/js/88.bee92a84.js"><link rel="prefetch" href="/Blog/assets/js/89.614c7d1a.js"><link rel="prefetch" href="/Blog/assets/js/9.e1312d54.js"><link rel="prefetch" href="/Blog/assets/js/90.4482c791.js"><link rel="prefetch" href="/Blog/assets/js/91.268c3e6c.js"><link rel="prefetch" href="/Blog/assets/js/92.d66ff6d3.js"><link rel="prefetch" href="/Blog/assets/js/93.f5d674fb.js"><link rel="prefetch" href="/Blog/assets/js/94.efc71026.js"><link rel="prefetch" href="/Blog/assets/js/95.9da7ada9.js"><link rel="prefetch" href="/Blog/assets/js/96.6ebf962e.js"><link rel="prefetch" href="/Blog/assets/js/97.48f4a43e.js"><link rel="prefetch" href="/Blog/assets/js/98.51b16bb9.js"><link rel="prefetch" href="/Blog/assets/js/99.6f5ba2e1.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.7d79d930.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">Full Stack Engineer</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/fullstackfe/" class="nav-link router-link-active">前端积累</a></div><div class="nav-item"><a href="/Blog/fullstackhd/" class="nav-link">后端积累</a></div><div class="nav-item"><a href="/Blog/fullstackms/" class="nav-link">面试总结</a></div><div class="nav-item"><a href="/Blog/fullstackls/" class="nav-link">成长规划</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他仓库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/fullstackcd/" class="nav-link">测试运维</a></li><li class="dropdown-item"><!----> <a href="/Blog/fullstacksf/" class="nav-link">算法总结</a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  设计模式
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  框架原理
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/188660660" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Blog/fullstackfe/" class="nav-link router-link-active">前端积累</a></div><div class="nav-item"><a href="/Blog/fullstackhd/" class="nav-link">后端积累</a></div><div class="nav-item"><a href="/Blog/fullstackms/" class="nav-link">面试总结</a></div><div class="nav-item"><a href="/Blog/fullstackls/" class="nav-link">成长规划</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他仓库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/fullstackcd/" class="nav-link">测试运维</a></li><li class="dropdown-item"><!----> <a href="/Blog/fullstacksf/" class="nav-link">算法总结</a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  设计模式
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  框架原理
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/188660660" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/Blog/fullstackfe/" class="sidebar-link">前端积累</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端开发环境</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>jQuery</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端模块化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Web安全渗透</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>React</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/Blog/fullstackfe/React/" class="sidebar-link">核心内容</a></li><li><a href="/Blog/fullstackfe/React/React/" class="active sidebar-link">React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#react" class="sidebar-link">React</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#学习资源" class="sidebar-link">学习资源</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#认识react" class="sidebar-link">认识React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#react特点" class="sidebar-link">React特点</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#react优点" class="sidebar-link">React优点</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#核心概念" class="sidebar-link">核心概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#虚拟dom" class="sidebar-link">虚拟DOM</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#diff算法（理解different）" class="sidebar-link">Diff算法（理解different）</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#安装" class="sidebar-link">安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#npm使用说明" class="sidebar-link">npm使用说明</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#react安装" class="sidebar-link">React安装</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#createelement" class="sidebar-link">createElement()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#render" class="sidebar-link">render()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#javascript-xml语法" class="sidebar-link">JavaScript XML语法</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#react脚手架" class="sidebar-link">React脚手架</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#react组件" class="sidebar-link">React组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#函数组件-无状态组件" class="sidebar-link">函数组件(无状态组件)</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#class组件-有状态组件：state" class="sidebar-link">class组件(有状态组件：state)</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#组件传值-props" class="sidebar-link">组件传值(props)</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#class组件使用" class="sidebar-link">class组件使用</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#状态state" class="sidebar-link">状态state</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#封装独立js文件的组件" class="sidebar-link">封装独立js文件的组件</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#绑定事件" class="sidebar-link">绑定事件</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#子节点" class="sidebar-link">子节点</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#使用样式" class="sidebar-link">使用样式</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#组件的生命周期" class="sidebar-link">组件的生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#componentwillmount" class="sidebar-link">componentWillMount</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#componentdidmount" class="sidebar-link">componentDidMount</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#render-2" class="sidebar-link">render</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#shouldcomponentupdate" class="sidebar-link">shouldComponentUpdate</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#componentwillupdate" class="sidebar-link">componentWillUpdate</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#componentdidupdate" class="sidebar-link">componentDidUpdate</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#componentwillreceiveprops" class="sidebar-link">componentWillReceiveProps</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#componentwillunmount" class="sidebar-link">componentWillUnmount</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#setstate" class="sidebar-link">setState()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#ref" class="sidebar-link">ref</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#受控组件" class="sidebar-link">受控组件</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#props校验" class="sidebar-link">props校验</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#react-单向数据流" class="sidebar-link">React 单向数据流</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#组件通讯" class="sidebar-link">组件通讯</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#react-router" class="sidebar-link">react-router</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#fetch" class="sidebar-link">fetch</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#state数据说明" class="sidebar-link">state数据说明</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#redux" class="sidebar-link">Redux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#redux特点" class="sidebar-link">Redux特点</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#原则" class="sidebar-link">原则</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/React/React/#核心概念-2" class="sidebar-link">核心概念</a></li></ul></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>微信小程序</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CentOS</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="react"><a href="#react" aria-hidden="true" class="header-anchor">#</a> React</h2> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>最后更新时间：2018年10月14日</strong></p> <p><strong>字数：16652</strong></p></div> <p><strong>主要内容</strong></p> <ul><li>学习资源</li> <li>认识React</li> <li>核心概念</li> <li>组件</li> <li>状态state</li> <li>事件</li> <li>生命周期</li> <li>受控组件</li> <li>单项数据流</li> <li>组件通讯</li> <li>路由</li> <li>Redux</li></ul> <h2 id="学习资源"><a href="#学习资源" aria-hidden="true" class="header-anchor">#</a> 学习资源</h2> <ul><li><a href="https://www.reactjscn.com/" target="_blank" rel="noopener noreferrer">React中文网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.ruanyifeng.com/blog/2015/03/react.html" target="_blank" rel="noopener noreferrer">React入门教程-阮一峰<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer">React官网-英文版<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.itheima.com/" target="_blank" rel="noopener noreferrer">黑马程序员<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="认识react"><a href="#认识react" aria-hidden="true" class="header-anchor">#</a> 认识React</h2> <p>用来构建UI的 JavaScript库</p> <h3 id="react特点"><a href="#react特点" aria-hidden="true" class="header-anchor">#</a> React特点</h3> <ul><li>JSX( JavaScript XML )语法：函数式的 UI 编程方式</li> <li>高性能：
<ul><li>虚拟DOM</li> <li>DIff算法</li></ul></li> <li>HTML仅仅是个开始：html  to  EveryThing
<ul><li>JSX —&gt; HTML</li> <li>JSX —&gt; native ios或android中的组件（XML）</li> <li>JSX —&gt; VR</li> <li>JSX —&gt; 物联网</li></ul></li></ul> <h3 id="react优点"><a href="#react优点" aria-hidden="true" class="header-anchor">#</a> React优点</h3> <ul><li>组件化开发</li> <li>Facebook专门团队维护维护</li> <li>技术成熟，社区完善，生态系统健全</li> <li>简单，高性能，支持服务端渲染</li></ul> <h2 id="核心概念"><a href="#核心概念" aria-hidden="true" class="header-anchor">#</a> 核心概念</h2> <h3 id="虚拟dom"><a href="#虚拟dom" aria-hidden="true" class="header-anchor">#</a> 虚拟DOM</h3> <ul><li>用JavaScript对象来秒速DOM对象，通过对比前后两个对象的差异，只更新变化的部分，提高渲染效率</li> <li>JavaScript对象 —&gt; DOM对象</li> <li>处理虚拟DOM步骤
<ul><li>JavaScript对象—&gt; DOM树结构</li> <li>状态变化，重新构建DOM树，对比新旧树，记录差异</li> <li>把差异2更新到原来创建的DOM输，实现视图更新</li></ul></li></ul> <h3 id="diff算法（理解different）"><a href="#diff算法（理解different）" aria-hidden="true" class="header-anchor">#</a> Diff算法（理解different）</h3> <ul><li>两个不同类型的元素会产生不同的树</li> <li>开发者可以通过key属性指定不同树中没有发生改变的子元素</li> <li>如果两棵树的根元素类型不同，React会销毁旧树，创建新树</li> <li>对于类型相同的React DOM 元素，React会对比两者的属性是否相同，只更新不同的属性</li> <li>当处理完这个DOM节点，React就会递归处理子节点</li> <li>当在子节点的后面添加一个节点，这时候两棵树的转化工作执行的很好</li> <li>React提供了一个 key 属性。当子节点带有key属性，React会通过key来匹配原始树和后来的树</li> <li>key只需要保持与他的兄弟节点唯一即可，不需要全局唯一</li> <li>尽可能的减少数组index作为key，数组中插入元素的等操作时，会使得效率底下</li></ul> <h2 id="安装"><a href="#安装" aria-hidden="true" class="header-anchor">#</a> 安装</h2> <h3 id="npm使用说明"><a href="#npm使用说明" aria-hidden="true" class="header-anchor">#</a> npm使用说明</h3> <ul><li><p><strong>npm init在项目中引导创建一个package.json文件</strong></p></li> <li><p><strong>缩写 npm init -y 但是目录不能包含中文</strong></p></li> <li><p><strong>-S, --save 安装包信息将加入到dependencies（生产阶段的依赖）</strong></p></li> <li><p><strong>-D, --save-dev 安装包信息将加入到devDependencies（开发阶段的依赖），所以开发阶段一般使用它</strong></p></li> <li><p><strong>-O, --save-optional 安装包信息将加入到optionalDependencies（可选阶段的依赖）</strong></p></li> <li><p><strong>-E, --save-exact 精确安装指定模块版本</strong></p></li> <li><p><strong>本地安装（local）</strong></p></li> <li><p><strong>全局安装（global）,使用-g 或 —global</strong></p></li> <li><p><strong>npm ls查看安装的模块</strong></p></li> <li><p><strong>npm uninstall卸载模块</strong></p></li> <li><p><strong>npm update更新模块</strong></p></li> <li><p><strong>npm outdated检查模块是否已经过时</strong></p></li> <li><p><strong>npm cache 管理模块的缓存</strong></p></li> <li><p><strong>npm start 启动模块</strong></p></li> <li><p><strong>npm restart 重新启动模块</strong></p></li></ul> <h3 id="react安装"><a href="#react安装" aria-hidden="true" class="header-anchor">#</a> React安装</h3> <ul><li>npm i -S react react-dom
<ul><li>react 是React库的入口点</li> <li>react-dom提供了针对DOM的方法，比如：把创建的虚拟DOM，渲染到页面上</li></ul></li></ul> <h2 id="createelement"><a href="#createelement" aria-hidden="true" class="header-anchor">#</a> createElement()</h2> <ul><li><p>后期不用这个，学习知道即可</p></li> <li><p>作用：根据参数，创建React对象</p> <ul><li>参数一：定创建虚拟DOM的类型</li> <li>参数二：指定元素自身的属性</li> <li>参数三：指定当前元素的子元素</li></ul></li></ul> <h2 id="render"><a href="#render" aria-hidden="true" class="header-anchor">#</a> render()</h2> <ul><li>渲染react元素
<ul><li>参数一：指定要渲染的react对象</li> <li>参数二：指定渲染到页面中的容器（DOM对象）</li> <li>参数三：回调函数</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> dv <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  title<span class="token punctuation">:</span> <span class="token string">'这是标题'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'Hello React'</span><span class="token punctuation">)</span>

<span class="token comment">// 3 渲染 react 元素</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>dv<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="javascript-xml语法"><a href="#javascript-xml语法" aria-hidden="true" class="header-anchor">#</a> JavaScript XML语法</h2> <ul><li>JSX语法，最终会被编译为 createElement() 方法</li> <li>JSX -&gt; createElemenet的语法形式 -&gt; 虚拟DOM对象</li> <li>推荐使用 JSX 的方式创建组件</li> <li>安装：npm i -D babel-preset-react</li> <li>注意：
<ul><li>依赖babel-core/babel-loader</li> <li>JSX的语法需要通过 babel-preset-react 编译后，才能被解析执行</li></ul></li> <li>JSX语法注意点：
<ul><li>className 代替 class</li> <li>label 的 for属性，使用<code>htmlFor</code>代替</li> <li>可以直接写JS代码，用{}包含</li> <li>注释：{/* 中间是注释的内容 */}</li></ul></li></ul> <h2 id="react脚手架"><a href="#react脚手架" aria-hidden="true" class="header-anchor">#</a> React脚手架</h2> <ul><li><p><a href="https://blog.csdn.net/qtfying/article/details/78665664" target="_blank" rel="noopener noreferrer">博客教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>官方发布的脚手架</p></li> <li><p><a href="https://github.com/facebook/create-react-app" target="_blank" rel="noopener noreferrer">create-react-app<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>安装：npm install -g create-react-app</p></li> <li><p>创建项目：create-react-app my-app</p></li> <li><p>开启项目：npm start</p></li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>如果create-react-app my-app报错，可能是nodejs版本的问题，小峰哥试过，nodejs8.9报错了，升级nodejs到10.11.0就可以正常运行了</strong></p></div> <h2 id="react组件"><a href="#react组件" aria-hidden="true" class="header-anchor">#</a> React组件</h2> <ul><li>组件是由一个个的HTML元素组成的</li> <li>组件就类似JavaScript中的函数</li> <li>如果一个组件仅仅是为了展示数据，就是用函数组件</li> <li>如果组件中有一定的业务逻辑，需要操作数据，就试用class创建组件，需要用到state</li></ul> <h3 id="函数组件-无状态组件"><a href="#函数组件-无状态组件" aria-hidden="true" class="header-anchor">#</a> 函数组件(无状态组件)</h3> <ul><li>函数名必须首字母大写，React就是根据首字母区分是不是组件的</li> <li>必须有返回值 return 可以是jsx或者null（null表示什么都不渲染）</li> <li>返回的jsx必须只有一个根元素</li> <li>返回的元素试用()包裹，避免各种换行问题</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Welcome</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;list&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token comment">/* 注释的写法 */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>list <span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>item1<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>item2<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Welcome name<span class="token operator">=</span><span class="token string">&quot;demo&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="class组件-有状态组件：state"><a href="#class组件-有状态组件：state" aria-hidden="true" class="header-anchor">#</a> class组件(有状态组件：state)</h3> <ul><li><p>状态即数据：state</p></li> <li><p>因为class是基于es6，所以需要babel转换</p></li> <li><p>安装：npm i -D babel-preset-env</p></li> <li><p>如果要使用this，必须现有super，this不能再super之前调用</p></li> <li><p>所以需要constructor(props) {super(props)}</p></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;list&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>List <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>item1<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>item2<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="组件传值-props"><a href="#组件传值-props" aria-hidden="true" class="header-anchor">#</a> 组件传值(props)</h2> <ul><li><p>React是单向数据流</p></li> <li><p>组件中直接name=xxx传值即可</p></li> <li><p>接受用props来接受数据</p></li> <li><p>props是个对象，只读的，不能添加修改和删除数据，注意：只读，只读，只读</p></li> <li><p>我们可以传递任意数据给组件</p></li></ul> <h2 id="class组件使用"><a href="#class组件使用" aria-hidden="true" class="header-anchor">#</a> class组件使用</h2> <ul><li>组件名首字母大写</li> <li>必须继承于React.Component</li> <li>必须有一个render方法，并且render方法必须有返回值</li> <li>props 只读</li> <li>this.props也是只读</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span>

<span class="token comment">//组将Hello组件</span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>这是 Hello <span class="token keyword">class</span>组件<span class="token punctuation">,</span> 这是传递给组件的数据<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 渲染class组件</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Hello name<span class="token operator">=</span><span class="token string">&quot;小明&quot;</span> age<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">18</span><span class="token punctuation">}</span> color<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="状态state"><a href="#状态state" aria-hidden="true" class="header-anchor">#</a> 状态state</h2> <ul><li>在 react 中，在类的构造函数中来初始化状态（state）</li> <li>state是内部数据，只能在当前组件使用</li> <li>通this.sate = {} 在构造函数中私有化state</li> <li><strong>只能通过this.setState() 方法来修改状态</strong></li> <li>只有class组件才有状态state</li> <li>状态是私有的，完全由组件来控制</li> <li>可以将组件内部使用但是不渲染在视图中的内容，直接添加给 this</li> <li>不要在 <code>render()</code> 方法中调用 setState() 方法来修改<code>state</code>的值：会引起死循环，无限渲染</li></ul> <h2 id="封装独立js文件的组件"><a href="#封装独立js文件的组件" aria-hidden="true" class="header-anchor">#</a> 封装独立js文件的组件</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 引入React模块</span>
<span class="token comment">// 由于 JSX 编译后会调用 React.createElement 方法，所以在你的 JSX 代码中必须首先声明 React 变量。</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token comment">// 使用function构造函数创建组件</span>
<span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>这是Hello组件<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>这是<span class="token constant">H1</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h6<span class="token operator">&gt;</span>这是<span class="token constant">H6</span><span class="token operator">&lt;</span><span class="token operator">/</span>h6<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 导出组件</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Hello

<span class="token comment">// app.js</span>
<span class="token comment">// 使用组件：</span>
<span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">'./components/Hello2'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="绑定事件"><a href="#绑定事件" aria-hidden="true" class="header-anchor">#</a> 绑定事件</h2> <ul><li>通过 on+事件名称，事件名称首字母大写</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>button 
   onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'单击事件出发了'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
   onMouseEnter<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'鼠标以上来了'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token operator">&gt;</span>绑定事件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>render方法中的this表示当前组件的实例对象</li> <li>这个this是可以调用 setState() 方法</li> <li>绑定方法不要加小括号调用，因为：
<ul><li>绑定方法是将方法的引用赋值给事件</li> <li>而不是将方法的调用结果给事件</li></ul></li> <li>这里就产生了绑定的方法中this指向的问题，因为需要用this去掉用state
<ul><li>箭头函数
<ul><li>箭头函数是没有 this</li> <li>箭头函数中的this，是由外部环境决定的</li></ul></li> <li>bind绑定this指向：
<ul><li>this.handleClick = this.handleClick.bind(this)</li> <li>constructor 中 super之后</li></ul></li></ul></li></ul> <h2 id="子节点"><a href="#子节点" aria-hidden="true" class="header-anchor">#</a> 子节点</h2> <ul><li>只要给组件添加子节点，组件中的 props 就会有一个 children 属性</li></ul> <h2 id="使用样式"><a href="#使用样式" aria-hidden="true" class="header-anchor">#</a> 使用样式</h2> <ul><li>直接在 react元素上使用 style 来添加样式</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>h1 style<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> border<span class="token punctuation">:</span> <span class="token string">'1px solid green'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span>这是 Hello 组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>通过class来添加</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> styles <span class="token operator">=</span> <span class="token punctuation">{</span>
  h1<span class="token punctuation">:</span> <span class="token punctuation">{</span> 
    color<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> 
    border<span class="token punctuation">:</span> <span class="token string">'1px solid green'</span><span class="token punctuation">,</span>
    backgroundColor<span class="token punctuation">:</span> <span class="token string">'skyblue'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>h1 style<span class="token operator">=</span><span class="token punctuation">{</span> styles<span class="token punctuation">.</span>h1 <span class="token punctuation">}</span><span class="token operator">&gt;</span>这是 Hello 组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="组件的生命周期"><a href="#组件的生命周期" aria-hidden="true" class="header-anchor">#</a> 组件的生命周期</h2> <ul><li>组件产生到消亡
<ul><li>创建阶段（Mounting）</li> <li>运行和交互阶段（Updating）：数据发送变化就会执行</li> <li>卸载阶段（Unmounting）</li></ul></li></ul> <img src="http://bmob-cdn-4908.b0.upaiyun.com/2018/05/10/9d2dcfa5407d53548073f70456bdca9f.png"> <ul><li>defaultProps 给组件设置默认值</li> <li>防止用户使用组件不传递该属性时候的报错问题的</li></ul> <h3 id="componentwillmount"><a href="#componentwillmount" aria-hidden="true" class="header-anchor">#</a> componentWillMount</h3> <ul><li>组件将要挂载到页面中，但是，还没有挂载到页面中</li> <li>可以用来发送ajax请求，获取数据，但是官方推荐在下一个钩子函数中发数据</li> <li>不能在这个钩子函数中获取到组件对应的DOM对象</li> <li>如果是同步调用 setState() 来修改状态，是不会引起重新渲染的！！！</li> <li>如果是异步调用 setState() 来修改状态，会引起重新渲染！！！</li></ul> <h3 id="componentdidmount"><a href="#componentdidmount" aria-hidden="true" class="header-anchor">#</a> componentDidMount</h3> <ul><li>组件已经挂载到页面中</li> <li>react中如果有DOM操作，应该是在这个钩子函数中执行的</li> <li>官方推荐：在这个钩子函数中发送请求，获取数据</li> <li>如果在这个钩子函数中调用 setState() 一定会引起重新渲染</li></ul> <h3 id="render-2"><a href="#render-2" aria-hidden="true" class="header-anchor">#</a> render</h3> <ul><li>不能在 render() 方法中修改state！！！</li> <li>不能在 render 中调用 setState() 方法！！！</li></ul> <h3 id="shouldcomponentupdate"><a href="#shouldcomponentupdate" aria-hidden="true" class="header-anchor">#</a> shouldComponentUpdate</h3> <ul><li>通过这个钩子函数可以达到控制组件是否更新</li> <li>用来提升组件的性能，只在满足特定条件的时候，渲染组件。减少了不必要的渲染，提供了性能</li> <li>注意：
<ul><li>这个钩子函数必须有返回值，返回值类型为：布尔值</li> <li>如果返回true，表示要更新组件</li> <li>如果返回false，表示不更新组件</li></ul></li> <li>第一个参数：表示最新的props</li> <li>第二个参数：表示最新的state</li></ul> <h3 id="componentwillupdate"><a href="#componentwillupdate" aria-hidden="true" class="header-anchor">#</a> componentWillUpdate</h3> <ul><li>组件将要被更新</li> <li>注意不能在这调用 this.setState()</li></ul> <h3 id="componentdidupdate"><a href="#componentdidupdate" aria-hidden="true" class="header-anchor">#</a> componentDidUpdate</h3> <ul><li>组件已经完成更新</li> <li>注意不能在这调用 this.setState()</li></ul> <h3 id="componentwillreceiveprops"><a href="#componentwillreceiveprops" aria-hidden="true" class="header-anchor">#</a> componentWillReceiveProps</h3> <ul><li>当组件接受到新的 props 值，这个钩子函数就会执行</li></ul> <h3 id="componentwillunmount"><a href="#componentwillunmount" aria-hidden="true" class="header-anchor">#</a> componentWillUnmount</h3> <ul><li>组件卸载的时候要执行的钩子函数</li> <li>该组件一开始是显示在页面中的，但是，后来不再继续展示在页面中，这个钩子函数就会触发</li> <li>用来执行清理工作，比如：清理定时器、移除mounted钩子函数中创建的DOM对象 等</li></ul> <h2 id="setstate"><a href="#setstate" aria-hidden="true" class="header-anchor">#</a> setState()</h2> <ul><li>setState() 是延迟执行的,多次调用，会执行一次</li> <li>如果要获取到setState()后的数据，可以通过setState()方法的回调函数获取到</li> <li>回调函数是在数据更新后，立即执行的</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prevState<span class="token punctuation">,</span> props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 第一个参数：表示更新前的state</span>
    <span class="token comment">// 第二个参数: 表示 props</span>
    <span class="token comment">// 需要返回一个对象, 对象中的属性表示要更新的数据</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="ref"><a href="#ref" aria-hidden="true" class="header-anchor">#</a> ref</h2> <ul><li>通过 ref 来获取到DOM对象</li> <li>ref的值是一个函数</li> <li>函数的参数(): 表示当前DOM对象</li> <li>ref可以绑定事件，但是不推荐这样做，推荐用onClick</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 渲染组件：</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* 将DOM对象的赋值为 this._input, 那么, this._input就表示文本框这个DOM对象了 */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> ref<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span>input<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_input <span class="token operator">=</span> input <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_setFocus <span class="token punctuation">}</span><span class="token operator">&gt;</span>文本框获得焦点<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="受控组件"><a href="#受控组件" aria-hidden="true" class="header-anchor">#</a> 受控组件</h2> <ul><li>在 react 中，state 只能通过 setState() 方法来修改</li> <li>事件处理程序的参数：事件对象（e）</li> <li>不要直接修改state属性的值，这样不会重新渲染组件！！！</li> <li>单一数据源</li> <li>只能通过setState来设置受控组件的值</li> <li>defaultValue</li> <li>readOnly</li></ul> <h2 id="props校验"><a href="#props校验" aria-hidden="true" class="header-anchor">#</a> props校验</h2> <ul><li>npm i -S prop-types</li> <li>通过类型检查，提高程序的稳定性</li> <li>给类提供一个静态属性 <code>propTypes</code>（对象），来约束<code>props</code></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Hello<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// number 要求 count 是number类型的</span>
  <span class="token comment">// isRequired 要求 count 必须传递</span>
  count<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">.</span>isRequired
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="react-单向数据流"><a href="#react-单向数据流" aria-hidden="true" class="header-anchor">#</a> React 单向数据流</h2> <ul><li>在React中，状态分享是通过将state数据提升至离需要这些数据的组件最近的父组件来完成的，这就是所谓的状态提升</li> <li>父组件提供数据，子组件使用数据（从父组件获取数据）</li> <li><strong>React 中采用单项数据流</strong>，不是<s>双向数据绑定</s></li> <li>数据流动方向：自上而下，也就是只能由父组件传递到子组件</li> <li>创建react的组件，数据（状态）都交给父组件，子组件可以获取父组件中的数据并进行展示处理</li></ul> <h2 id="组件通讯"><a href="#组件通讯" aria-hidden="true" class="header-anchor">#</a> 组件通讯</h2> <ul><li>父 -&gt; 子：<code>props</code></li> <li>子 -&gt; 父：父组件通过props传递回调函数给子组件，子组件调用函数将数据作为参数传递给父组件</li> <li>兄弟组件：因为React是单向数据流，因此需要借助父组件进行传递，通过父组件回调函数改变兄弟组件的props</li> <li>React中的状态管理：  flux（提出状态管理的思想）/ Redux / Mobx</li> <li>统一管理了项目中所有的数据，让数据变的可控</li> <li>react技术栈：react + react路由 + reduex + axios/fetch</li></ul> <h2 id="react-router"><a href="#react-router" aria-hidden="true" class="header-anchor">#</a> react-router</h2> <ul><li>安装：npm i -S react-router-dom</li> <li>导入路由：import { HashRouter as Router,  Link,  Route} from 'react-router-dom'</li> <li>Router组件：
<ul><li>路由的容器，所有需要被导航的内容，都应该包裹在 Router组件中</li> <li>一个项目中，Router组件只要出现一次即可</li> <li>作用：包裹整个应用</li></ul></li> <li>Link组件：
<ul><li>用来创建路由的入口，最终会被转化为一个 a标签</li> <li>to：用来指定路由的哈希值</li></ul></li> <li>Route组件：
<ul><li>用来指定路由规则 - path</li> <li>用来指定该路由匹配时显示哪个组件的内容 - component</li> <li>Route 组件放在页面中的哪个位置，就表示将路由出口的内容，展示在哪个位置</li> <li>一个路由规则就是一个 Route组件</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>Router<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token operator">&gt;</span>首页<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/movielist/news&quot;</span><span class="token operator">&gt;</span>新闻<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/about&quot;</span><span class="token operator">&gt;</span>关于<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token comment">/* path 表示路由规则 */</span><span class="token punctuation">}</span>
                <span class="token punctuation">{</span><span class="token comment">/* exact 表示完全匹配，也就是：当 哈希值 与 path 完全相同，才会被匹配 */</span><span class="token punctuation">}</span>
                <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/new&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>New<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/about&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li><p>通过<code>Route</code>中的path属性来配置路由参数</p></li> <li><p>匹配规则：</p> <ul><li>path 表示路由规则</li></ul></li> <li><p>所有Route都会进行匹配</p></li> <li><p>匹配规则为：模糊匹配</p></li> <li><p>exact 表示完全匹配，也就是：当 哈希值 与 path 完全相同，才会被匹配</p></li> <li><p>Switch组件--推荐</p></li> <li><p>配置路由的规则：匹配范围小的路由规则往前放，匹配范围大的路由规则往后放</p></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
   <span class="token punctuation">{</span><span class="token comment">/* 电影详情组件 */</span><span class="token punctuation">}</span>
   <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/movielist/detail/:id&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>MovieDetail<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
   <span class="token punctuation">{</span><span class="token comment">/* 电影列表组件 */</span><span class="token punctuation">}</span>
   <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/movielist/:movieType/:page?&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>MovieList<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="fetch"><a href="#fetch" aria-hidden="true" class="header-anchor">#</a> fetch</h2> <ul><li><p>fetch() 方法返回一个Promise对象</p></li> <li><p>通过 props 的match对象，来获取到与路由相关的内容</p></li> <li><p>this.props.match.params.XXX 获取路由参数</p></li> <li><p>componentWillReceiveProps：切换菜单，在这个钩子函数中发送即可</p></li> <li><p>fetch API特点：</p> <ul><li>基于Promise，通过 .then() 方法来获取数据</li> <li>fetch 可以请求任意类型的资源，但是拿到数据后，需要自己根据请求数据的类型，来转化为对应的格式，然后，才能够使用</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'localhost:3000/api/xxx'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 调用 json() 方法，将获取到的数据，转化为JSON格式</span>
      <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>data <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 这个 then 中，才可以获取到JSON格式的数据</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'通过 fetch 获取到的数据：'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="state数据说明"><a href="#state数据说明" aria-hidden="true" class="header-anchor">#</a> state数据说明</h2> <ul><li>state中应该只存放跟渲染页面相关的内容</li> <li>state中的数据应该尽量少，与更新页面无关的数据，不要添加到 state 中</li> <li>将各个方法中共用的一些数据，添加给this，而不是添加给 this.state</li></ul> <h2 id="redux"><a href="#redux" aria-hidden="true" class="header-anchor">#</a> Redux</h2> <ul><li><p>React技术栈：</p> <ul><li>react</li> <li>react-router</li> <li>状态：mobx （简单）/ redux（复杂）</li> <li>dva：集成了 react/react-router/redux 让 react 开发大型项目变的更加简单</li></ul></li> <li><p>Flux 架构</p></li> <li><p>Redux 出现，将 Flux 与函数式编程结合一起</p></li> <li><p>注意：<strong>如果你不知道是否需要 Redux，那就是不需要它。只有遇到 React 实在解决不了的问题，你才需要 Redux</strong></p></li></ul> <h3 id="redux特点"><a href="#redux特点" aria-hidden="true" class="header-anchor">#</a> Redux特点</h3> <ul><li>提供可预测的状态管理</li> <li>通过开发者工具，提供：代码热替换（hot reload）和时间旅行（time travel）功能</li> <li>提供中间件机制</li> <li>安装：npm i -S redux</li></ul> <h3 id="原则"><a href="#原则" aria-hidden="true" class="header-anchor">#</a> 原则</h3> <ul><li>单一数据源</li> <li>State 是只读的</li> <li>使用纯函数来执行修改</li> <li>不直接修改整个应用的状态树，而是将状态树的每一部分进行拷贝并修改拷贝后的部分，然后将这些部分重新组合成一颗新的状态树</li></ul> <h3 id="核心概念-2"><a href="#核心概念-2" aria-hidden="true" class="header-anchor">#</a> 核心概念</h3> <ul><li>state 状态（项目中的数据）</li> <li>store 管理项目的状态，以及提供修改状态的方法等（所有与状态相关的操作，都应该是由store开始的）</li> <li>action 在redux中将他立即为：一个动作（你要做什么事情）,比如：添加任务、删除任务、展示不同状态的任务</li> <li>reducer 表示一个动作的具体响应，这个动作具体怎么实现是由 reducer 来实现的,比如：添加任务的具体实现，要往 任务列表 中添加一个任务进去（this.list.push({})）</li> <li>三者关系：
<ul><li>action 用来描述具体的动作（任务）</li> <li>将 action 传递给 store，store就把这个任务交给 reducer，然后，reducer就会根据不同的任务</li> <li>做出不同的响应（ 修改state ），最终，store会接受到这个修改后的状态，会更新store维护的原有状态</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 说明 store 的使用</span>
<span class="token comment">// 注意：</span>
<span class="token comment">//  1 在一个redux应用中，只能有一个 store</span>
<span class="token comment">//  2 不要直接修改 store 中的state</span>

<span class="token comment">// store 的两个作用：</span>
<span class="token comment">//  1 提供全局的state</span>
<span class="token comment">//  2 将 action 和 reducer 联系在一起</span>

<span class="token comment">// 使用 store</span>
<span class="token comment">// createStore() 方法：用来创建 store</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>

<span class="token comment">// 导入 reducer</span>
<span class="token keyword">import</span> todosReducer <span class="token keyword">from</span> <span class="token string">'./reducers'</span>

<span class="token comment">// 创建store</span>
<span class="token comment">// 参数：表示 根reducer</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>todosReducer<span class="token punctuation">)</span>

<span class="token comment">//store.getState() 方法：用来获取全局state</span>

<span class="token comment">//dispatch执行任务</span>
<span class="token comment">//每一次 dispatch 分发任务，都是基于上一次diapatch后的结果</span>
<span class="token comment">//store.dispatch( addTodo('吃饭') )</span>


<span class="token comment">// 整个流程：</span>
<span class="token comment">// 1 调用 store.dispatch() 准备分发任务</span>
<span class="token comment">// 2 dispatch 接受 action 作为参数</span>
<span class="token comment">// 3 store 将action交给 reducer</span>
<span class="token comment">// 4 reducer 根据action.type类型来执行不同的响应操作</span>
<span class="token comment">// 5 reducer 将最新的状态返回给 store</span>
<span class="token comment">// 6 store 接受到这个最新的状态，并且更新原始的状态（ 旧的状态 = 本次的最新状态 ）</span>

<span class="token comment">// store 中有个方法叫：subscribe()，用来注册一个监听器（回调函数），</span>
<span class="token comment">// 当 state 更新的时候，注册的监听器（回调函数）就会调用</span>
store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 移除上面创建好的监听器函数</span>
<span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/188660660/edit/master/docs/fullstackfe/React/React/README.md" target="_blank" rel="noopener noreferrer">帮助我改善这个页面</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/Blog/fullstackfe/React/" class="prev router-link-active">
          核心内容
        </a></span> <span class="next"><a href="/Blog/fullstackfe/miniprogram/">
          核心内容
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/Blog/assets/js/app.9b1cff62.js" defer></script><script src="/Blog/assets/js/20.16e98ccf.js" defer></script>
  </body>
</html>
