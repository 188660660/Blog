<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Web SRC | Full Stack Engineer</title>
    <meta name="description" content="种一棵树最好的时间是十年前，其次就是现在。">
    <link rel="icon" href="/Blog/favicon.png">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.7d79d930.css" as="style"><link rel="preload" href="/Blog/assets/js/app.9b1cff62.js" as="script"><link rel="preload" href="/Blog/assets/js/29.59207d30.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.03fdae6f.js"><link rel="prefetch" href="/Blog/assets/js/100.74851e27.js"><link rel="prefetch" href="/Blog/assets/js/101.a8331df3.js"><link rel="prefetch" href="/Blog/assets/js/102.66093c84.js"><link rel="prefetch" href="/Blog/assets/js/103.a2a68001.js"><link rel="prefetch" href="/Blog/assets/js/104.7d8390e6.js"><link rel="prefetch" href="/Blog/assets/js/105.e165092f.js"><link rel="prefetch" href="/Blog/assets/js/106.68747284.js"><link rel="prefetch" href="/Blog/assets/js/107.c130bd8c.js"><link rel="prefetch" href="/Blog/assets/js/108.060883b0.js"><link rel="prefetch" href="/Blog/assets/js/109.6ccf07b3.js"><link rel="prefetch" href="/Blog/assets/js/11.b7d9ee41.js"><link rel="prefetch" href="/Blog/assets/js/110.8ebb3f5b.js"><link rel="prefetch" href="/Blog/assets/js/111.bc9bf306.js"><link rel="prefetch" href="/Blog/assets/js/112.a5c9d0a4.js"><link rel="prefetch" href="/Blog/assets/js/113.7a68bb85.js"><link rel="prefetch" href="/Blog/assets/js/114.6d489d0a.js"><link rel="prefetch" href="/Blog/assets/js/115.8b31c508.js"><link rel="prefetch" href="/Blog/assets/js/116.ddd1676c.js"><link rel="prefetch" href="/Blog/assets/js/117.278275d8.js"><link rel="prefetch" href="/Blog/assets/js/118.906b76cd.js"><link rel="prefetch" href="/Blog/assets/js/119.0c229826.js"><link rel="prefetch" href="/Blog/assets/js/12.0fc01f9b.js"><link rel="prefetch" href="/Blog/assets/js/120.c88a521c.js"><link rel="prefetch" href="/Blog/assets/js/121.82668829.js"><link rel="prefetch" href="/Blog/assets/js/122.fccbd23a.js"><link rel="prefetch" href="/Blog/assets/js/123.12980065.js"><link rel="prefetch" href="/Blog/assets/js/124.5f29f942.js"><link rel="prefetch" href="/Blog/assets/js/125.17cfb9f5.js"><link rel="prefetch" href="/Blog/assets/js/126.5cc955bd.js"><link rel="prefetch" href="/Blog/assets/js/127.bdb1786e.js"><link rel="prefetch" href="/Blog/assets/js/128.017d8c6f.js"><link rel="prefetch" href="/Blog/assets/js/129.82502fed.js"><link rel="prefetch" href="/Blog/assets/js/13.e20ec1ea.js"><link rel="prefetch" href="/Blog/assets/js/130.46c9bf19.js"><link rel="prefetch" href="/Blog/assets/js/131.88ce9377.js"><link rel="prefetch" href="/Blog/assets/js/132.6efc063a.js"><link rel="prefetch" href="/Blog/assets/js/133.0a9f325d.js"><link rel="prefetch" href="/Blog/assets/js/134.6fc8d8e3.js"><link rel="prefetch" href="/Blog/assets/js/135.52453b87.js"><link rel="prefetch" href="/Blog/assets/js/136.5fd1268b.js"><link rel="prefetch" href="/Blog/assets/js/137.a76f2243.js"><link rel="prefetch" href="/Blog/assets/js/138.53b353cc.js"><link rel="prefetch" href="/Blog/assets/js/139.333d9ce4.js"><link rel="prefetch" href="/Blog/assets/js/14.ae6ee6fb.js"><link rel="prefetch" href="/Blog/assets/js/140.5c19fac7.js"><link rel="prefetch" href="/Blog/assets/js/141.50f20023.js"><link rel="prefetch" href="/Blog/assets/js/142.0914a1d8.js"><link rel="prefetch" href="/Blog/assets/js/143.d21dd047.js"><link rel="prefetch" href="/Blog/assets/js/144.8032be8d.js"><link rel="prefetch" href="/Blog/assets/js/145.b81635d8.js"><link rel="prefetch" href="/Blog/assets/js/146.165fc7b4.js"><link rel="prefetch" href="/Blog/assets/js/147.b40e46aa.js"><link rel="prefetch" href="/Blog/assets/js/148.0f0de456.js"><link rel="prefetch" href="/Blog/assets/js/149.c9c393d9.js"><link rel="prefetch" href="/Blog/assets/js/15.45b8446e.js"><link rel="prefetch" href="/Blog/assets/js/150.6cdc08ab.js"><link rel="prefetch" href="/Blog/assets/js/151.4858c28b.js"><link rel="prefetch" href="/Blog/assets/js/152.4cc133ee.js"><link rel="prefetch" href="/Blog/assets/js/153.7eea1f53.js"><link rel="prefetch" href="/Blog/assets/js/16.d58e6b8c.js"><link rel="prefetch" href="/Blog/assets/js/17.a78f924b.js"><link rel="prefetch" href="/Blog/assets/js/18.975933d0.js"><link rel="prefetch" href="/Blog/assets/js/19.976fd42e.js"><link rel="prefetch" href="/Blog/assets/js/2.8b709eb3.js"><link rel="prefetch" href="/Blog/assets/js/20.16e98ccf.js"><link rel="prefetch" href="/Blog/assets/js/21.a150fd05.js"><link rel="prefetch" href="/Blog/assets/js/22.94040b7d.js"><link rel="prefetch" href="/Blog/assets/js/23.5b9d945a.js"><link rel="prefetch" href="/Blog/assets/js/24.d6924b7e.js"><link rel="prefetch" href="/Blog/assets/js/25.8a9dd776.js"><link rel="prefetch" href="/Blog/assets/js/26.1364a4b5.js"><link rel="prefetch" href="/Blog/assets/js/27.01a1619d.js"><link rel="prefetch" href="/Blog/assets/js/28.8b7a695b.js"><link rel="prefetch" href="/Blog/assets/js/3.f41d92ed.js"><link rel="prefetch" href="/Blog/assets/js/30.83510497.js"><link rel="prefetch" href="/Blog/assets/js/31.0082afa8.js"><link rel="prefetch" href="/Blog/assets/js/32.e4ae16f7.js"><link rel="prefetch" href="/Blog/assets/js/33.71bea411.js"><link rel="prefetch" href="/Blog/assets/js/34.7c96b0dd.js"><link rel="prefetch" href="/Blog/assets/js/35.b80e18d6.js"><link rel="prefetch" href="/Blog/assets/js/36.59c7bbff.js"><link rel="prefetch" href="/Blog/assets/js/37.a86d1dff.js"><link rel="prefetch" href="/Blog/assets/js/38.a208ce5a.js"><link rel="prefetch" href="/Blog/assets/js/39.9a545a20.js"><link rel="prefetch" href="/Blog/assets/js/4.d40323af.js"><link rel="prefetch" href="/Blog/assets/js/40.7f799a5f.js"><link rel="prefetch" href="/Blog/assets/js/41.e0d3d4f9.js"><link rel="prefetch" href="/Blog/assets/js/42.7d33d0c1.js"><link rel="prefetch" href="/Blog/assets/js/43.b0700a08.js"><link rel="prefetch" href="/Blog/assets/js/44.a78b1dc3.js"><link rel="prefetch" href="/Blog/assets/js/45.80e1ddaf.js"><link rel="prefetch" href="/Blog/assets/js/46.0db140fe.js"><link rel="prefetch" href="/Blog/assets/js/47.02a8123e.js"><link rel="prefetch" href="/Blog/assets/js/48.b94fadb2.js"><link rel="prefetch" href="/Blog/assets/js/49.ead83b1a.js"><link rel="prefetch" href="/Blog/assets/js/5.4517c4f6.js"><link rel="prefetch" href="/Blog/assets/js/50.664889d5.js"><link rel="prefetch" href="/Blog/assets/js/51.1b5ee583.js"><link rel="prefetch" href="/Blog/assets/js/52.b58908a5.js"><link rel="prefetch" href="/Blog/assets/js/53.32681978.js"><link rel="prefetch" href="/Blog/assets/js/54.e7fef1b7.js"><link rel="prefetch" href="/Blog/assets/js/55.e6d550f2.js"><link rel="prefetch" href="/Blog/assets/js/56.0cfd7072.js"><link rel="prefetch" href="/Blog/assets/js/57.3d46d2f8.js"><link rel="prefetch" href="/Blog/assets/js/58.5f196950.js"><link rel="prefetch" href="/Blog/assets/js/59.34cd8d3d.js"><link rel="prefetch" href="/Blog/assets/js/6.8b498e04.js"><link rel="prefetch" href="/Blog/assets/js/60.c1f1af36.js"><link rel="prefetch" href="/Blog/assets/js/61.ee1a194d.js"><link rel="prefetch" href="/Blog/assets/js/62.9f2f7e08.js"><link rel="prefetch" href="/Blog/assets/js/63.7c088e3d.js"><link rel="prefetch" href="/Blog/assets/js/64.e2bb46b0.js"><link rel="prefetch" href="/Blog/assets/js/65.f753c096.js"><link rel="prefetch" href="/Blog/assets/js/66.516e4781.js"><link rel="prefetch" href="/Blog/assets/js/67.66368430.js"><link rel="prefetch" href="/Blog/assets/js/68.7322e7cc.js"><link rel="prefetch" href="/Blog/assets/js/69.de893114.js"><link rel="prefetch" href="/Blog/assets/js/7.06fe3b32.js"><link rel="prefetch" href="/Blog/assets/js/70.782f92d9.js"><link rel="prefetch" href="/Blog/assets/js/71.cae855e3.js"><link rel="prefetch" href="/Blog/assets/js/72.fa15455c.js"><link rel="prefetch" href="/Blog/assets/js/73.570e2132.js"><link rel="prefetch" href="/Blog/assets/js/74.cadf29c6.js"><link rel="prefetch" href="/Blog/assets/js/75.73c1290c.js"><link rel="prefetch" href="/Blog/assets/js/76.70b6fca9.js"><link rel="prefetch" href="/Blog/assets/js/77.56e0580d.js"><link rel="prefetch" href="/Blog/assets/js/78.63eb3b59.js"><link rel="prefetch" href="/Blog/assets/js/79.a1a09dd4.js"><link rel="prefetch" href="/Blog/assets/js/8.40ca314e.js"><link rel="prefetch" href="/Blog/assets/js/80.56837d03.js"><link rel="prefetch" href="/Blog/assets/js/81.c6a73c13.js"><link rel="prefetch" href="/Blog/assets/js/82.e20196ab.js"><link rel="prefetch" href="/Blog/assets/js/83.eface677.js"><link rel="prefetch" href="/Blog/assets/js/84.2365bd14.js"><link rel="prefetch" href="/Blog/assets/js/85.3975b63f.js"><link rel="prefetch" href="/Blog/assets/js/86.e23d9f86.js"><link rel="prefetch" href="/Blog/assets/js/87.19d36deb.js"><link rel="prefetch" href="/Blog/assets/js/88.bee92a84.js"><link rel="prefetch" href="/Blog/assets/js/89.614c7d1a.js"><link rel="prefetch" href="/Blog/assets/js/9.e1312d54.js"><link rel="prefetch" href="/Blog/assets/js/90.4482c791.js"><link rel="prefetch" href="/Blog/assets/js/91.268c3e6c.js"><link rel="prefetch" href="/Blog/assets/js/92.d66ff6d3.js"><link rel="prefetch" href="/Blog/assets/js/93.f5d674fb.js"><link rel="prefetch" href="/Blog/assets/js/94.efc71026.js"><link rel="prefetch" href="/Blog/assets/js/95.9da7ada9.js"><link rel="prefetch" href="/Blog/assets/js/96.6ebf962e.js"><link rel="prefetch" href="/Blog/assets/js/97.48f4a43e.js"><link rel="prefetch" href="/Blog/assets/js/98.51b16bb9.js"><link rel="prefetch" href="/Blog/assets/js/99.6f5ba2e1.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.7d79d930.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">Full Stack Engineer</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/fullstackfe/" class="nav-link router-link-active">前端积累</a></div><div class="nav-item"><a href="/Blog/fullstackhd/" class="nav-link">后端积累</a></div><div class="nav-item"><a href="/Blog/fullstackms/" class="nav-link">面试总结</a></div><div class="nav-item"><a href="/Blog/fullstackls/" class="nav-link">成长规划</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他仓库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/fullstackcd/" class="nav-link">测试运维</a></li><li class="dropdown-item"><!----> <a href="/Blog/fullstacksf/" class="nav-link">算法总结</a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  设计模式
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  框架原理
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/188660660" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Blog/fullstackfe/" class="nav-link router-link-active">前端积累</a></div><div class="nav-item"><a href="/Blog/fullstackhd/" class="nav-link">后端积累</a></div><div class="nav-item"><a href="/Blog/fullstackms/" class="nav-link">面试总结</a></div><div class="nav-item"><a href="/Blog/fullstackls/" class="nav-link">成长规划</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他仓库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/fullstackcd/" class="nav-link">测试运维</a></li><li class="dropdown-item"><!----> <a href="/Blog/fullstacksf/" class="nav-link">算法总结</a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  设计模式
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  框架原理
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/188660660" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/Blog/fullstackfe/" class="sidebar-link">前端积累</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端开发环境</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>jQuery</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端模块化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Web安全渗透</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/Blog/fullstackfe/WebSRC/" class="sidebar-link">核心内容</a></li><li><a href="/Blog/fullstackfe/WebSRC/WebSRC/" class="active sidebar-link">Web安全渗透</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#web-src" class="sidebar-link">Web SRC</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#学习资源" class="sidebar-link">学习资源</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#src" class="sidebar-link">SRC</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#黑客" class="sidebar-link">黑客</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#黑客-2" class="sidebar-link">黑客</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#黑帽黑客" class="sidebar-link">黑帽黑客</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#白帽黑客" class="sidebar-link">白帽黑客</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#黑帽" class="sidebar-link">黑帽</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#骇客" class="sidebar-link">骇客</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#虚拟机" class="sidebar-link">虚拟机</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#虚拟机定义" class="sidebar-link">虚拟机定义</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#常见软件" class="sidebar-link">常见软件</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#vmware" class="sidebar-link">VMware</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#虚拟机快照" class="sidebar-link">虚拟机快照</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#http代理" class="sidebar-link">HTTP代理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#web安全中的代理" class="sidebar-link">web安全中的代理</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#渗透测试环境" class="sidebar-link">渗透测试环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#dvwa" class="sidebar-link">DVWA</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#dvwa模块" class="sidebar-link">DVWA模块</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#安装dvwa" class="sidebar-link">安装DVWA</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#brup-suite" class="sidebar-link">Brup Suite</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#几大功能模块" class="sidebar-link">几大功能模块</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#owasp" class="sidebar-link">OWASP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#owasp-中国" class="sidebar-link">OWASP 中国</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#owasp-top-10-2017" class="sidebar-link">OWASP Top 10 2017</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#_2013-vs-2017" class="sidebar-link">2013 VS 2017</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#注入类威胁" class="sidebar-link">注入类威胁</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#常见注入类威胁分类" class="sidebar-link">常见注入类威胁分类</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#sql注入" class="sidebar-link">SQL注入</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#xss漏洞" class="sidebar-link">XSS漏洞</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#文件上传漏洞" class="sidebar-link">文件上传漏洞</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#文件上传漏洞绕过姿势（转载）" class="sidebar-link">文件上传漏洞绕过姿势（转载）</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#客户端绕过" class="sidebar-link">客户端绕过</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#服务端绕过" class="sidebar-link">服务端绕过</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#文件包含漏洞（php为例）" class="sidebar-link">文件包含漏洞（PHP为例）</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#任意文件下载漏洞" class="sidebar-link">任意文件下载漏洞</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#os命令注入" class="sidebar-link">OS命令注入</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#信息泄露类威胁" class="sidebar-link">信息泄露类威胁</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/WebSRC/WebSRC/#常见信息泄露类威胁分类" class="sidebar-link">常见信息泄露类威胁分类</a></li></ul></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>微信小程序</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CentOS</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="web-src"><a href="#web-src" aria-hidden="true" class="header-anchor">#</a> Web SRC</h2> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>最后更新时间：2018年10月07日</strong></p> <p><strong>字数：19918</strong></p></div> <p><strong>努力学习，提高自己</strong></p> <h2 id="学习资源"><a href="#学习资源" aria-hidden="true" class="header-anchor">#</a> 学习资源</h2> <ul><li><a href="https://www.ichunqiu.com/" target="_blank" rel="noopener noreferrer">i春秋<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.ichunqiu.com/train/course/11?i=2" target="_blank" rel="noopener noreferrer">i春秋Web安全工程师课程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="src"><a href="#src" aria-hidden="true" class="header-anchor">#</a> SRC</h3> <ul><li>Security Emergency Response Center</li> <li>安全应急响应中心</li> <li>主要针对科技互联网企业常见的安全漏洞而特别设立的机构</li> <li>国内各大SRC
<ul><li><a href="https://www.ichunqiu.com/src" target="_blank" rel="noopener noreferrer">i春秋SRC部落<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://security.alibaba.com/" target="_blank" rel="noopener noreferrer">阿里安全响应中心<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://sec.baidu.com/views/main/index.html#home" target="_blank" rel="noopener noreferrer">百度安全应急响应中心<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://security.tencent.com/" target="_blank" rel="noopener noreferrer">腾讯安全应急响应中心<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>等等</li></ul></li></ul> <h2 id="黑客"><a href="#黑客" aria-hidden="true" class="header-anchor">#</a> 黑客</h2> <h3 id="黑客-2"><a href="#黑客-2" aria-hidden="true" class="header-anchor">#</a> 黑客</h3> <ul><li><p><strong>黑客</strong>（ 大陆和香港：黑客；台湾：骇客，英文：Hacker）通常是指对计算机科学、编程和设计方面具高度理解的人。</p></li> <li><p>“黑客”一词最早用来称呼研究盗用电话系统的人士。</p></li> <li><p>在信息安全里，“黑客”指研究智取计算机安全系统的人员。</p></li></ul> <h3 id="黑帽黑客"><a href="#黑帽黑客" aria-hidden="true" class="header-anchor">#</a> 黑帽黑客</h3> <ul><li>利用公共通讯网路，如互联网和电话系统，在未经许可的情况下，载入对方系统的被称为<strong>黑帽黑客</strong>（英文：black hat，另称cracker）</li> <li>简单来说搞破坏的，目的不纯，非法的</li></ul> <h3 id="白帽黑客"><a href="#白帽黑客" aria-hidden="true" class="header-anchor">#</a> 白帽黑客</h3> <ul><li>是指那些专门研究或者从事网络、计算机技术防御的人，他们通常受雇于各大公司，是维护世界网络、计算机安全的主要力量。很多白帽还受雇于公司，对产品进行模拟黑客攻击，以检测产品的可靠性。</li></ul> <h3 id="黑帽"><a href="#黑帽" aria-hidden="true" class="header-anchor">#</a> 黑帽</h3> <ul><li>亦称黑帽黑客、黑帽子黑客，他们专门研究病毒木马、研究操作系统，寻找漏洞，并且以个人意志为出发点，攻击网络或者计算机。</li></ul> <h3 id="骇客"><a href="#骇客" aria-hidden="true" class="header-anchor">#</a> 骇客</h3> <ul><li><p>骇客是黑客的一种，但他们的行为已经超过了正常黑客行为的界限，因为为了各种目的——个人喜好、金钱等等对目标群进行毫无理由的攻击，这些人基本上为了金钱什么事都可以做。</p></li> <li><p>虽然同属黑客范畴，但是他们的所作所为已经严重的危害到了网络和计算机安全，他们的每一次攻击都会造成大范围的影响以及经济损失，因此，他们获得了一个专属的称号:骇客。</p></li> <li><p>但是现在有时候界限已经很模糊了，因为和黑客本质都是进攻和破坏计算机系统</p></li></ul> <h2 id="虚拟机"><a href="#虚拟机" aria-hidden="true" class="header-anchor">#</a> 虚拟机</h2> <h3 id="虚拟机定义"><a href="#虚拟机定义" aria-hidden="true" class="header-anchor">#</a> 虚拟机定义</h3> <ul><li>虚拟机是通过软件模拟的，具有完整硬件系统功能的，运行在实体机上的一个计算机软件。</li> <li>通过虚拟化软件，我们可以在一台真是的电脑上同时开启并运行多个虚拟机</li></ul> <h3 id="常见软件"><a href="#常见软件" aria-hidden="true" class="header-anchor">#</a> 常见软件</h3> <ul><li>VMware Workstation</li> <li>Parallels Desktop</li> <li>Virtual PC</li> <li>VirtualBox （开源免费）</li></ul> <h3 id="vmware"><a href="#vmware" aria-hidden="true" class="header-anchor">#</a> VMware</h3> <ul><li>VMware三种网络模式
<ul><li>Bridged：桥接模式</li> <li>NAT：网络地址转换模式</li> <li>Host-Only：仅主机模式</li></ul></li></ul> <h4 id="桥接模式"><a href="#桥接模式" aria-hidden="true" class="header-anchor">#</a> 桥接模式</h4> <ul><li>将主机网卡与虚拟机虚拟的网卡利用虚拟网桥进行通信。</li> <li>在桥接的作用下，类似于把物理主机虚拟为一个交换机，所有桥接设置的虚拟机连接到这个交换机的一个接口上，物理主机也同样插在这个交换机当中，所以所有桥接下的网卡与网卡都是交换模式的，相互可以访问而不干扰。</li> <li>在桥接模式下，虚拟机ip地址需要与主机在同一个网段，如果需要联网，则网关与DNS需要与主机网卡一致。</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>虚拟机和实体机在同一个网段</strong></p></div> <h4 id="网络地址转换模式"><a href="#网络地址转换模式" aria-hidden="true" class="header-anchor">#</a> 网络地址转换模式</h4> <ul><li>如果你的网络ip资源紧缺，但是你又希望你的虚拟机能够联网，这时候NAT模式是最好的选择。</li> <li>NAT模式借助虚拟NAT设备和虚拟DHCP服务器，使得虚拟机可以联网。</li> <li>在NAT模式中，主机网卡直接与虚拟NAT设备相连，然后虚拟NAT设备与虚拟DHCP服务器一起连接在虚拟交换机VMnet上，这样就实现了虚拟机联网。</li> <li>VMnet虚拟网卡主要是为了实现主机与虚拟机之间的通信</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>虚拟机通过实体机来上网</strong></p></div> <h4 id="近主机模式"><a href="#近主机模式" aria-hidden="true" class="header-anchor">#</a> 近主机模式</h4> <ul><li>Host-Only模式其实就是NAT模式去除了虚拟NAT设备，然后使用虚拟网卡连接虚拟交换机来与虚拟机通信的</li> <li>Host-Only模式将虚拟机与外网隔开，使得虚拟机成为一个独立的系统，只与主机相互通讯。</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>虚拟机只能跟实体机通讯，无法连接到互联网</strong></p></div> <h3 id="虚拟机快照"><a href="#虚拟机快照" aria-hidden="true" class="header-anchor">#</a> 虚拟机快照</h3> <ul><li>磁盘“快照”是虚拟机磁盘文件（VMDK）在某个点及时的复本。系统崩溃或系统异常，你可以通过使用恢复到快照来保持磁盘文件系统和系统存储。当升级应用和服务器及给它们打补丁的时候，快照是救世主。</li></ul> <h2 id="http代理"><a href="#http代理" aria-hidden="true" class="header-anchor">#</a> HTTP代理</h2> <ul><li>代理服务器是介于浏览器和Web服务器之间的一台服务器，有了它之后，浏览器不是直接到Web服务器去取回网页而是向代理服务器发出请求</li> <li>Request信号会先送到代理服务器，由代理服务器来取回浏览器所需要的信息并传送给你的浏览器</li></ul> <h3 id="web安全中的代理"><a href="#web安全中的代理" aria-hidden="true" class="header-anchor">#</a> web安全中的代理</h3> <ul><li>通过HTTP代理，我们可以查看、分析浏览器和web服务器之间的HTTP通讯数据</li> <li>通过查看HTTP流量，我们可以方便的测试各种web漏洞，比如SQL注入，文件上传，弱口令等</li></ul> <h2 id="渗透测试环境"><a href="#渗透测试环境" aria-hidden="true" class="header-anchor">#</a> 渗透测试环境</h2> <h3 id="dvwa"><a href="#dvwa" aria-hidden="true" class="header-anchor">#</a> DVWA</h3> <ul><li><p><a href="http://www.dvwa.co.uk/" target="_blank" rel="noopener noreferrer">DVWA（Damn Vulnerable Web Application）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>是一个用来进行安全脆弱性鉴定的 PHP/MySQL Web应用，旨在为安全专业人员测试自己的专业技能和工具提供合法的环境，帮助web开发者更好的理解web应用安全防范的过程。</p></li> <li><p>DVWA是randomstorm的一个开源项目。如果你更多的了解randomstorm的服务和产品你可以访问他们官方网站www.randomstorm.com</p></li></ul> <h3 id="dvwa模块"><a href="#dvwa模块" aria-hidden="true" class="header-anchor">#</a> DVWA模块</h3> <ul><li>Brute Force（暴力（破解））</li> <li>Command Injection（命令行注入）</li> <li>CSRF（跨站请求伪造）</li> <li>File Inclusion（文件包含）</li> <li>File Upload（文件上传）</li> <li>Insecure CAPTCHA （不安全的验证码）</li> <li>SQL Injection（SQL注入）</li> <li>SQL Injection（Blind）（SQL盲注）</li> <li>XSS（Reflected）（反射型跨站脚本）</li> <li>XSS（Stored）（存储型跨站脚本）</li></ul> <h3 id="安装dvwa"><a href="#安装dvwa" aria-hidden="true" class="header-anchor">#</a> 安装DVWA</h3> <ul><li><p>Web运行环境：</p> <ul><li>推荐phpstudy</li></ul></li> <li><p>官网：</p> <ul><li>http://www.dvwa.co.uk/</li></ul></li> <li><p>配置文件</p> <ul><li>DVWA ——  config ——  config.inc.php</li> <li>修改数据库用户名和密码root</li></ul></li> <li><p>安装地址：</p> <ul><li>http://127.0.0.1/DVWA/setup.php</li></ul></li> <li><p>Create / Reset Database</p></li> <li><p>DVWA默认用户名和密码</p> <ul><li>admin</li> <li>password</li></ul></li></ul> <img src="http://bmob-cdn-4908.b0.upaiyun.com/2018/10/04/ce19ca12401358d180a9d1fd0f428bf2.png"> <ul><li>原文英文，这是谷歌翻译后的结果</li></ul> <h2 id="brup-suite"><a href="#brup-suite" aria-hidden="true" class="header-anchor">#</a> Brup Suite</h2> <ul><li>Burp Suite 是用于攻击web 应用程序的集成平台，包含了许多工具。</li> <li>Burp Suite为这些工具设计了许多接口，以加快攻击应用程序的过程。</li> <li>所有工具都共享一个请求，并能处理对应的HTTP 消息、持久性、认证、代理、日志、警报。</li></ul> <h3 id="几大功能模块"><a href="#几大功能模块" aria-hidden="true" class="header-anchor">#</a> 几大功能模块</h3> <ul><li>Proxy——是一个拦截HTTP/S的代理服务器，作为一个在浏览器和目标应用程序之间的中间人，允许你拦截，查看，修改在两个方向上的原始数据流。</li> <li>Spider——是一个应用智能感应的网络爬虫，它能完整的枚举应用程序的内容和功能。</li> <li>Scanner[仅限专业版]——是一个高级的工具，执行后，它能自动地发现web 应用程序的安全漏洞。</li> <li>Intruder——是一个定制的高度可配置的工具，对web应用程序进行自动化攻击，如：枚举标识符，收集有用的数据，以及使用fuzzing 技术探测常规漏洞。</li> <li>Repeater——是一个靠手动操作来补发单独的HTTP 请求，并分析应用程序响应的工具。</li> <li>Sequencer——是一个用来分析那些不可预知的应用程序会话令牌和重要数据项的随机性的工具。</li> <li>Decoder——是一个进行手动执行或对应用程序数据者智能解码编码的工具。</li> <li>Comparer——是一个实用的工具，通常是通过一些相关的请求和响应得到两项数据的一个可视化的“差异”。</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>推荐入门使用brupsuite + 火狐浏览器，而不是chrome浏览器，楼主用的是mac，chrome配置起来非常麻烦，建议火狐浏览器</strong></p></div> <h2 id="owasp"><a href="#owasp" aria-hidden="true" class="header-anchor">#</a> OWASP</h2> <ul><li>开放式Web应用程序安全项目（OWASP，Open Web Application Security Project）是一个组织，它提供有关计算机和互联网应用程序的公正、实际、有成本效益的信息。</li> <li>其目的是协助个人、企业和机构来发现和使用可信赖软件。</li> <li>开放式Web应用程序安全项目（OWASP）是一个非营利组织，不附属于任何企业或财团。</li> <li>因此，由OWASP提供和开发的所有设施和文件都不受商业因素的影响。</li> <li>OWASP支持商业安全技术的合理使用，它有一个论坛，在论坛里信息技术专业人员可以发表和传授专业知识和技能。</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>OWASP每隔四年发布一次十大最严重的web安全威胁，简称OWASP TOP 10</strong></p></div> <h3 id="owasp-中国"><a href="#owasp-中国" aria-hidden="true" class="header-anchor">#</a> OWASP 中国</h3> <ul><li><a href="http://www.owasp.org.cn/" target="_blank" rel="noopener noreferrer">OWASP中国<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="owasp-top-10-2017"><a href="#owasp-top-10-2017" aria-hidden="true" class="header-anchor">#</a> OWASP Top 10 2017</h3> <ul><li><a href="http://www.owasp.org.cn/owasp-project/OWASPTop102017v1.3.pdf" target="_blank" rel="noopener noreferrer">在线预览网址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h3 id="_2013-vs-2017"><a href="#_2013-vs-2017" aria-hidden="true" class="header-anchor">#</a> 2013 VS 2017</h3> <img src="http://bmob-cdn-4908.b0.upaiyun.com/2018/10/05/58c117ee40f4a674802edeb7eb006b91.png"> <h2 id="注入类威胁"><a href="#注入类威胁" aria-hidden="true" class="header-anchor">#</a> 注入类威胁</h2> <ul><li>将不受信任的数据作为命令或查询的一部分发送到解析器时，会产生诸如SQL注入、NoSQL注入、OS
注入和LDAP注入的注入缺陷。</li> <li>攻击者的恶意数据可以诱使解析器在没有适当授权的情况下执行非预期命令或访问数据。</li> <li>通俗点就是：web应用程序没有将程序代码和用户提交的数据区别开来，将恶意用户提交的数据，当做了一部分代码解析执行。</li></ul> <h3 id="常见注入类威胁分类"><a href="#常见注入类威胁分类" aria-hidden="true" class="header-anchor">#</a> 常见注入类威胁分类</h3> <ul><li>SQL注入</li> <li>XSS漏洞</li> <li>文件上传</li> <li>文件包含</li> <li>文件下载</li> <li>OS命令注入</li></ul> <h3 id="sql注入"><a href="#sql注入" aria-hidden="true" class="header-anchor">#</a> SQL注入</h3> <ul><li>所谓SQL注入，就是通过把SQL命令插入到Web表单提交或输入域名或页面请求的查询字符串，最终达到欺骗服务器执行恶意的SQL命令。</li> <li>它是利用现有应用程序，将（恶意的）SQL命令注入到后台数据库引擎执行的能力，它可以通过在Web表单中输入（恶意）SQL语句得到一个存在安全漏洞的网站上的数据库，而不是按照设计者意图去执行SQL语句。</li></ul> <h4 id="原理"><a href="#原理" aria-hidden="true" class="header-anchor">#</a> 原理</h4> <ul><li><p>SQL注入攻击指的是通过构建特殊的输入作为参数传入Web应用程序，而这些输入大都是SQL语法里的一些组合，通过执行SQL语句进而执行攻击者所要的操作，其主要原因是程序没有细致地过滤用户输入的数据，致使非法数据侵入系统。</p></li> <li><p>当应用程序使用输入内容来构造动态sql语句以访问数据库时，会发生sql注入攻击。</p></li></ul> <h4 id="防护"><a href="#防护" aria-hidden="true" class="header-anchor">#</a> 防护</h4> <ul><li><p>永远不要信任用户的输入。对用户的输入进行校验，可以通过正则表达式，或限制长度；对单引号和双&quot;-&quot;进行转换等。</p></li> <li><p>永远不要使用动态拼装sql，可以使用参数化的sql或者直接使用存储过程进行数据查询存取。</p></li> <li><p>永远不要使用管理员权限的数据库连接，为每个应用使用单独的权限有限的数据库连接。</p></li> <li><p>不要把机密信息直接存放，加密或者hash掉密码和敏感的信息。</p></li> <li><p>应用的异常信息应该给出尽可能少的提示，最好使用自定义的错误信息对原始错误信息进行包装</p></li> <li><p>sql注入的检测方法一般采取辅助软件或网站平台来检测，软件一般采用sql注入检测工具jsky，网站平台就有亿思网站安全平台检测工具。MDCSOFT SCAN等。采用MDCSOFT-IPS可以有效的防御SQL注入，XSS攻击等。</p></li></ul> <h3 id="xss漏洞"><a href="#xss漏洞" aria-hidden="true" class="header-anchor">#</a> XSS漏洞</h3> <ul><li>XSS攻击全称跨站脚本攻击，是为不和层叠样式表(Cascading Style Sheets, CSS)的缩写混淆，故将跨站脚本攻击缩写为XSS</li> <li>XSS是一种在web应用中的计算机安全漏洞，它允许恶意web用户将代码植入到提供给其它用户使用的页面中。</li> <li>攻击者利用XSS漏洞旁路掉访问控制——例如同源策略(same origin policy)。
<ul><li>这种类型的漏洞由于被黑客用来编写危害性更大的网络钓鱼(Phishing)攻击而变得广为人知。</li> <li>对于跨站脚本攻击，黑客界共识是：跨站脚本攻击是新型的“缓冲区溢出攻击“，而JavaScript是新型的“ShellCode”。</li></ul></li></ul> <h4 id="xss危害"><a href="#xss危害" aria-hidden="true" class="header-anchor">#</a> XSS危害</h4> <ul><li>盗取各类用户帐号，如机器登录帐号、用户网银帐号、各类管理员帐号</li> <li>控制企业数据，包括读取、篡改、添加、删除企业敏感数据的能力</li> <li>盗窃企业重要的具有商业价值的资料</li> <li>非法转账</li> <li>强制发送电子邮件</li> <li>网站挂马</li> <li>控制受害者机器向其它网站发起攻击</li></ul> <h4 id="xss漏洞分类"><a href="#xss漏洞分类" aria-hidden="true" class="header-anchor">#</a> XSS漏洞分类</h4> <ul><li>XSS漏洞按照攻击利用手法的不同，有以下三种类型
<ul><li>本地利用漏洞</li> <li>反射式漏洞</li> <li>存储式漏洞</li></ul></li></ul> <h4 id="xss防御"><a href="#xss防御" aria-hidden="true" class="header-anchor">#</a> XSS防御</h4> <ul><li>基于特征的防御
<ul><li>检测用户提交的信息，在所有提交的信息中都进行匹配检查</li></ul></li> <li>基于代码修改的防御
<ul><li>对所有用户提交内容进行可靠的输入验证，包括对URL、查询关键字、HTTP头、POST数据等，仅接受指定长度范围内、采用适当格式、采用所预期的字符的内容提交，对其他的一律过滤。</li> <li>实现Session标记(session tokens)、CAPTCHA系统或者HTTP引用头检查，以防功能被第三方网站所执行。</li> <li>确认接收的的内容被妥善的规范化，仅包含最小的、安全的Tag(没有javascript)，去掉任何对远程内容的引用(尤其是样式表和javascript)，使用HTTP only的cookie。</li></ul></li></ul> <h3 id="文件上传漏洞"><a href="#文件上传漏洞" aria-hidden="true" class="header-anchor">#</a> 文件上传漏洞</h3> <ul><li>文件上传漏洞是指网络攻击者上传了一个可执行的文件到服务器并执行。</li> <li>这里上传的文件可以是木马，病毒，恶意脚本或者WebShell等。</li></ul> <h4 id="现状"><a href="#现状" aria-hidden="true" class="header-anchor">#</a> 现状</h4> <ul><li>这种攻击方式是最为直接和有效的，部分文件上传漏洞的利用技术门槛非常的低，对于攻击者来说很容易实施。</li> <li>即便很容易被攻击者利用漏洞，但是在今天的现代互联网的Web应用程序，它是一种常见的要求，因为它有助于提高业务效率。</li> <li>企业支持门户，给用户各企业员工有效地共享文件。允许用户上传图片，视频，头像和许多其他类型的文件</li> <li>向用户提供的功能越多，Web应用受到攻击的风险和机会就越大，这种功能会被恶意用户利用，获得到一个特定网站的权限，或危及服务器的可能性是非常高的。</li></ul> <h4 id="成因"><a href="#成因" aria-hidden="true" class="header-anchor">#</a> 成因</h4> <ul><li>由于程序员在对用户文件上传部分的控制不足或者处理缺陷，而导致用户可以越过其本身权限向服务器上传可执行的动态脚本文件。</li></ul> <h4 id="常见漏洞"><a href="#常见漏洞" aria-hidden="true" class="header-anchor">#</a> 常见漏洞</h4> <ul><li>前端验证
<ul><li>前端修改验证代码，即可绕过前端验证文件类型，图片文件限制</li></ul></li> <li>MIME验证
<ul><li>对于上传的文件，上传时都会指明上传文件的类型，即MIME信息。如果服务器验证的是MIME，可以通过修改MIME信息进行绕过上传。</li></ul></li> <li>文件扩展名漏洞
<ul><li>这类漏洞是由于后台判断的扩展名不全才发生的。</li> <li>例如：服务器会将以<code>php php2 php3 php4 php5</code>为后缀名的文件全部按照<code>php</code>文件解析，其中的代码会被执行。但是某些后端判定并没有完全覆盖这些扩展名，因此上传这样扩展名的文件不会被排斥，这样我们就能成功上传一个非法但是有效的文件。</li></ul></li> <li>文件内容检测
<ul><li>简单来说就是在非法的文件中加入合法文件的成分，进而通过检查。</li> <li>例如：规定上传文件必须是<code>jpg</code>文件，在上传时检查是否具有<code>jpg</code>文件的结构。我们知道，<code>jpg</code>文件有特定的文件头和文件结尾，在文件结尾之后的数据不再作为图片数据进行解析。</li> <li>因此，我们可以在一个正常的<code>jpg</code>图片后添加一段<code>php</code>代码，这样在上传判定时可以通过内容检测，在作为代码解析时也拥有正确的代码段。从而我们上传了一个非法文件。</li></ul></li> <li>空字节截断目录路径检测绕过
<ul><li>这是一种针对服务器对上传文件名解析时，使用空格作为截断符的机制设计的绕过。</li> <li>例如：我们上传的本地文件的文件名中可能包含空格，如<code>picture.php .jpg</code>，这时计算机把文件当成<code>jpg</code>文件进行解析。</li> <li>当上传到服务器时，我们截获发出的包，把中间的空格（ASCII 20）改为终止符（ASCII 00），在判定时依然是<code>jpg</code>文件，但是到达服务器端后会因为终止符的出现而结束文件名的获取，这样我们就获得了一个目标扩展名的文件，如<code>picture.php</code>。</li></ul></li></ul> <h4 id="解决方案"><a href="#解决方案" aria-hidden="true" class="header-anchor">#</a> 解决方案</h4> <ul><li>上传的文件能够被Web容器解释执行。所以文件上传后所在的目录要是Web容器所覆盖到的路径。</li> <li>用户能够从Web上访问这个文件。如果文件上传了，但用户无法通过Web访问，或者无法得到Web容器解释这个脚本，那么也不能称之为漏洞。</li> <li>用户上传的文件若被安全检查、格式化、图片压缩等功能改变了内容，则也可能导致攻击不成功。</li></ul> <h5 id="文件上传的目录设置为不可执行"><a href="#文件上传的目录设置为不可执行" aria-hidden="true" class="header-anchor">#</a> 文件上传的目录设置为不可执行</h5> <ul><li>只要web容器无法解析该目录下面的文件，即使攻击者上传了脚本文件，服务器本身也不会受到影响，因此这一点至关重要。</li></ul> <h5 id="判断文件类型"><a href="#判断文件类型" aria-hidden="true" class="header-anchor">#</a> 判断文件类型</h5> <ul><li>在判断文件类型时，可以结合使用MIME Type、后缀检查等方式。</li> <li>在文件类型检查中，强烈推荐白名单方式，黑名单的方式已经无数次被证明是不可靠的。</li> <li>此外，对于图片的处理，可以使用压缩函数或者resize函数，在处理图片的同时破坏图片中可能包含的HTML代码。</li></ul> <h5 id="使用随机数改写文件名和文件路径"><a href="#使用随机数改写文件名和文件路径" aria-hidden="true" class="header-anchor">#</a> 使用随机数改写文件名和文件路径</h5> <ul><li>文件上传如果要执行代码，则需要用户能够访问到这个文件。</li> <li>在某些环境中，用户能上传，但不能访问。</li> <li>如果应用了随机数改写了文件名和路径，将极大地增加攻击的成本。</li> <li>再来就是像shell.php.rar.rar和crossdomain.xml这种文件，都将因为重命名而无法攻击。</li></ul> <h5 id="单独设置文件服务器的域名"><a href="#单独设置文件服务器的域名" aria-hidden="true" class="header-anchor">#</a> 单独设置文件服务器的域名</h5> <ul><li>由于浏览器同源策略的关系，一系列客户端攻击将失效，比如上传crossdomain.xml、上传包含Java的XSS利用等问题将得到解决。</li></ul> <h3 id="文件上传漏洞绕过姿势（转载）"><a href="#文件上传漏洞绕过姿势（转载）" aria-hidden="true" class="header-anchor">#</a> 文件上传漏洞绕过姿势（转载）</h3> <p><a href="https://thief.one/2016/09/22/%E4%B8%8A%E4%BC%A0%E6%9C%A8%E9%A9%AC%E5%A7%BF%E5%8A%BF%E6%B1%87%E6%80%BB-%E6%AC%A2%E8%BF%8E%E8%A1%A5%E5%85%85/" target="_blank" rel="noopener noreferrer"><strong>原文链接：nMask 文件上传漏洞（绕过姿势）</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>客户端绕过（抓包改包）</li> <li>服务端绕过
<ul><li>文件类型</li> <li>文件头</li> <li>文件后缀名</li></ul></li> <li>配合文件包含漏洞绕过</li> <li>配合服务器解析漏洞绕过</li> <li>CMS、编辑器漏洞绕过</li> <li>配合操作系统文件命名规则绕过</li> <li>配合其他规则绕过</li> <li>WAF绕过</li></ul> <h3 id="客户端绕过"><a href="#客户端绕过" aria-hidden="true" class="header-anchor">#</a> 客户端绕过</h3> <ul><li>可以利用burp抓包改包，先上传一个gif类型的木马，然后通过burp将其改为asp/php/jsp后缀名即可。</li></ul> <h3 id="服务端绕过"><a href="#服务端绕过" aria-hidden="true" class="header-anchor">#</a> 服务端绕过</h3> <ul><li><p>文件类型绕过</p></li> <li><p>文件头绕过</p></li> <li><p>文件后缀名绕过</p></li></ul> <h4 id="文件类型绕过"><a href="#文件类型绕过" aria-hidden="true" class="header-anchor">#</a> 文件类型绕过</h4> <ul><li>我们可以通过抓包，将content-type字段改为image/gif</li></ul> <div class="language-http line-numbers-mode"><pre class="language-http"><code><span class="token request-line"><span class="token property">POST</span> /upload.php HTTP/1.1</span>
<span class="token header-name keyword">TE:</span> deflate,gzip;q=0.3
<span class="token header-name keyword">Connection:</span> TE, close
<span class="token header-name keyword">Host:</span> localhost
<span class="token header-name keyword">User-Agent:</span> libwww-perl/5.803
<span class="token header-name keyword">Content-Type:</span> multipart/form-data; boundary=xYzZY
<span class="token header-name keyword">Content-Length:</span> 155
--xYzZY
<span class="token header-name keyword">Content-Disposition:</span> form-data; name=&quot;userfile&quot;; filename=&quot;shell.php&quot;
<span class="token header-name keyword">Content-Type:</span> image/gif (原为Content-Type: text/plain)
&lt;?php system($_GET['command']);?&gt;
--xYzZY-
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="文件头绕过"><a href="#文件头绕过" aria-hidden="true" class="header-anchor">#</a> 文件头绕过</h4> <ul><li>在木马内容基础上再加了一些文件信息，有点像下面的结构
<code>GIF89a&lt;?php phpinfo(); ?&gt;</code></li></ul> <h4 id="文件后缀名绕过"><a href="#文件后缀名绕过" aria-hidden="true" class="header-anchor">#</a> 文件后缀名绕过</h4> <ul><li>前提：黑名单校验</li> <li>黑名单检测：一般有个专门的 blacklist 文件，里面会包含常见的危险脚本文件。</li> <li>绕过方法：
<ul><li>找黑名单扩展名的漏网之鱼 - 比如 asa 和 cer 之类</li> <li>可能存在大小写绕过漏洞 - 比如 aSp 和 pHp 之类</li></ul></li> <li>能被解析的文件扩展名列表：
<ul><li>jsp</li> <li>jspx</li> <li>jspf</li> <li>asp</li> <li>asa</li> <li>cer</li> <li>aspx</li> <li>php</li> <li>php</li> <li>php3</li> <li>php4</li> <li>exe</li> <li>exee</li></ul></li></ul> <h4 id="配合文件包含漏洞"><a href="#配合文件包含漏洞" aria-hidden="true" class="header-anchor">#</a> 配合文件包含漏洞</h4> <ul><li>前提：校验规则只校验当文件后缀名为asp/php/jsp的文件内容是否为木马。</li> <li>绕过方式：（这里拿php为例，此漏洞主要存在于PHP中）
<ul><li>先上传一个内容为木马的txt后缀文件，因为后缀名的关系没有检验内容；</li> <li>然后再上传一个.php的文件，内容为<code>&lt;?php Include(“上传的txt文件路径”);?&gt;</code></li> <li>此时，这个php文件就会去引用txt文件的内容，从而绕过校验，下面列举包含的语法：</li></ul></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#PHP    </span>
<span class="token operator">&lt;</span>?php Include<span class="token punctuation">(</span><span class="token string">&quot;上传的txt文件路径&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>?<span class="token operator">&gt;</span> 
<span class="token comment">#ASP    </span>
<span class="token operator">&lt;</span><span class="token operator">!</span>--<span class="token comment">#include file=&quot;上传的txt文件路径&quot; --&gt;</span>
<span class="token comment">#JSP    </span>
<span class="token operator">&lt;</span>jsp:inclde page<span class="token operator">=</span><span class="token string">&quot;上传的txt文件路径&quot;</span>/<span class="token operator">&gt;</span>
or  
<span class="token operator">&lt;</span>%@include file<span class="token operator">=</span><span class="token string">&quot;上传的txt文件路径&quot;</span>%<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><p>详细参考：<a href="http://thief.one/2017/04/10/2/" target="_blank" rel="noopener noreferrer">文件包含漏洞(绕过姿势)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>大致内容：</p> <ul><li><p>特殊姿势phar://协议</p></li> <li><p>php文件包含漏洞</p> <ul><li><p>本地包含漏洞（LFI）</p></li> <li><p>远程包含漏洞</p></li> <li><p>文件包含利用</p> <ul><li><p>读取敏感信息</p></li> <li><p>远程包含shell</p></li> <li><p>本地包含配合文件上传</p></li> <li><p>本地包含配合apache日志拿shell</p></li> <li><p>利用/proc/self/environ进行包含</p></li> <li><p>利用php协议进行包含</p></li> <li><p>截断包含</p></li></ul></li> <li><p>文件包含漏洞修复</p></li></ul></li> <li><p>jsp文件包含漏洞</p> <ul><li><p>include</p></li> <li><p>jsp:include</p></li> <li><p>采用JSTL</p></li></ul></li> <li><p>asp文件包含漏洞</p></li> <li><p>aspx文件包含漏洞</p></li></ul></li></ul> <h4 id="配合服务器解析漏洞"><a href="#配合服务器解析漏洞" aria-hidden="true" class="header-anchor">#</a> 配合服务器解析漏洞</h4> <ul><li>详细可参考：<a href="http://thief.one/2016/09/21/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A7%A3%E6%9E%90%E6%BC%8F%E6%B4%9E/" target="_blank" rel="noopener noreferrer">http://thief.one/2016/09/21/服务器解析漏洞/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h4 id="配合操作系统文件命令规则"><a href="#配合操作系统文件命令规则" aria-hidden="true" class="header-anchor">#</a> 配合操作系统文件命令规则</h4> <ul><li>上传不符合windows文件命名规则的文件名，会被windows系统自动去掉不符合规则符号后面的内容
<ul><li>test.asp.</li> <li>test.asp(空格)</li> <li>test.php:1.jpg</li> <li>test.php::$DATA</li> <li>shell.php::$DATA…….</li></ul></li> <li>linux下后缀名大小写，在linux下，如果上传php不被解析，可以试试上传pHp后缀的文件名。</li></ul> <h4 id="cms、编辑器漏洞"><a href="#cms、编辑器漏洞" aria-hidden="true" class="header-anchor">#</a> CMS、编辑器漏洞</h4> <ul><li>CMS漏洞：比如说JCMS等存在的漏洞，可以针对不同CMS存在的上传漏洞进行绕过。</li> <li>编辑器漏洞：比如FCK，ewebeditor等，可以针对编辑器的漏洞进行绕过。</li></ul> <h4 id="配合其他规则"><a href="#配合其他规则" aria-hidden="true" class="header-anchor">#</a> 配合其他规则</h4> <ul><li>0x00截断：基于一个组合逻辑漏洞造成的，通常存在于构造上传文件路径的时候<code>test.php(0x00).jpg</code> <code>test.php%00.jpg</code>路径<code>/upload/1.php(0x00)</code>，文件名1.jpg，结合<code>/upload/1.php(0x00)/1.jpg</code></li> <li>伪代码演示：</li></ul> <div class="language-php line-numbers-mode"><pre class="language-php"><code>name<span class="token operator">=</span> <span class="token function">getname</span><span class="token punctuation">(</span>httprequest<span class="token punctuation">)</span> <span class="token comment">//假如这时候获取到的文件名是 help.asp.jpg(asp 后面为 0x00)</span>
type <span class="token operator">=</span><span class="token function">gettype</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>        <span class="token comment">//而在 gettype()函数里处理方式是从后往前扫描扩展名，所以判断为 jpg</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>type <span class="token operator">==</span> jpg<span class="token punctuation">)</span>
   <span class="token function">SaveFileToPath</span><span class="token punctuation">(</span>UploadPath<span class="token punctuation">.</span>name<span class="token punctuation">,</span> name<span class="token punctuation">)</span>   <span class="token comment">//但在这里却是以 0x00 作为文件名截断</span>
<span class="token comment">//最后以 help.asp 存入路径里</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="waf绕过"><a href="#waf绕过" aria-hidden="true" class="header-anchor">#</a> WAF绕过</h4> <ul><li>垃圾数据
<ul><li>有些主机WAF软件为了不影响web服务器的性能，会对校验的用户数据设置大小上限，比如1M。</li> <li>此种情况可以构造一个大文件，前面1M的内容为垃圾内容，后面才是真正的木马内容，便可以绕过WAF对文件内容的校验；</li></ul></li> <li>filename
<ul><li>针对早期版本安全狗，可以多加一个filename</li> <li>或者将filename换位置，在IIS6.0下如果我们换一种书写方式，把filename放在其他地方</li></ul></li> <li>POST/GET
<ul><li>有些WAF的规则是：如果数据包为POST类型，则校验数据包内容。</li> <li>此种情况可以上传一个POST型的数据包，抓包将POST改为GET。</li></ul></li></ul> <h4 id="文件校验的几点建议"><a href="#文件校验的几点建议" aria-hidden="true" class="header-anchor">#</a> 文件校验的几点建议</h4> <ul><li>文件扩展名服务端白名单校验。</li> <li>文件内容服务端校验。</li> <li>上传文件重命名。</li> <li>隐藏上传文件路径。</li></ul> <h3 id="文件包含漏洞（php为例）"><a href="#文件包含漏洞（php为例）" aria-hidden="true" class="header-anchor">#</a> 文件包含漏洞（PHP为例）</h3> <h4 id="文件包含"><a href="#文件包含" aria-hidden="true" class="header-anchor">#</a> 文件包含</h4> <ul><li>文件包含就是一个文件里面包含另外一个文件。</li> <li>程序开发人员一般会把重复使用的函数写到单个文件中，需要使用某个函数时直接调用此文件，而无需再次编写，这中文件调用的过程一般被称为文件包含。</li> <li>程序开发人员一般希望代码更灵活，所以将被包含的文件设置为变量，用来进行动态调用，但正是由于这种灵活性，从而导致客户端可以调用一个恶意文件，造成文件包含漏洞。</li> <li>几乎所有脚本语言都会提供文件包含的功能，但文件包含漏洞在PHP Web Application中居多,而在JSP、ASP、程序中却非常少，甚至没有，这是有些语言设计的弊端。</li> <li><strong>在PHP中经常出现包含漏洞，但这并不意味这其他语言不存在。</strong></li></ul> <h4 id="成因-2"><a href="#成因-2" aria-hidden="true" class="header-anchor">#</a> 成因</h4> <ul><li>指当服务器开启allow_url_include选项时，就可以通过php的某些特性函数include()，require()和include_once()，require_once()利用url去动态包含文件</li> <li>此时如果没有对文件来源进行严格审查，就会导致任意文件读取或者任意命令执行。</li> <li>通过引入文件时，用户可控，没有严格的检验，或是被绕过，操作一些敏感文件，导致文件泄露和恶意代码注入</li></ul> <h4 id="分类"><a href="#分类" aria-hidden="true" class="header-anchor">#</a> 分类</h4> <ul><li>本地文件包含 当被包含的文件在服务器本地时，就形成本地文件包含</li> <li>远程文件包含 当被包含的文件在第三方服务器时，叫做远程文件包含</li></ul> <h4 id="常见php文件包含函数"><a href="#常见php文件包含函数" aria-hidden="true" class="header-anchor">#</a> 常见PHP文件包含函数</h4> <ul><li><p><strong>include()</strong></p> <ul><li>当使用该函数包含文件时，只有代码执行到include()函数时才将文件包含进来，发生错误时只给出一个警告，继续向下执行</li></ul></li> <li><p><strong>include_once()</strong></p> <ul><li>功能和include()相同，区别在于当重复调用同一文件时，程序只调用一次</li></ul></li> <li><p><strong>require()</strong></p></li> <li><p>require()与include()的区别在于require()执行如果发生错误，函数会输出错误信息，并终止脚本的运行 。</p></li> <li><p>使用require()函数包含文件时，只要程序一执行，立即调用文件，而include()只有程序执行到函数时才调用 .require()在php程序执行前执行，会先读入 require 所指定引入的文件，使它变成 PHP 程序网页的一部份。</p></li> <li><p><strong>require_once()</strong></p> <ul><li>它的功能与require()相同，区别在于当重复调用同一文件时，程序只调用一次</li></ul></li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <ul><li>攻击者利用了包含的特性，再加上了应用本身对文件控制不严，对include进来的文件不可控，最终造成了攻击者进行任意文件包含。</li> <li>包含进来的文件都以当前脚本文件解析，比如，我们当前测试系统是Apache加php环境，那么被include进来的文件，不管是什么类型，比如说图片，文本文档，这些文件被包含以后，都会被当做php脚本来解析</li></ul></div> <h3 id="任意文件下载漏洞"><a href="#任意文件下载漏洞" aria-hidden="true" class="header-anchor">#</a> 任意文件下载漏洞</h3> <h3 id="os命令注入"><a href="#os命令注入" aria-hidden="true" class="header-anchor">#</a> OS命令注入</h3> <h2 id="信息泄露类威胁"><a href="#信息泄露类威胁" aria-hidden="true" class="header-anchor">#</a> 信息泄露类威胁</h2> <h3 id="常见信息泄露类威胁分类"><a href="#常见信息泄露类威胁分类" aria-hidden="true" class="header-anchor">#</a> 常见信息泄露类威胁分类</h3> <ul><li>目录信息泄露</li> <li>敏感文件泄露</li> <li>弱口令泄露</li> <li>未授权访问泄露</li> <li>敏感路径泄露</li></ul></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/188660660/edit/master/docs/fullstackfe/WebSRC/WebSRC/README.md" target="_blank" rel="noopener noreferrer">帮助我改善这个页面</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/Blog/fullstackfe/WebSRC/" class="prev router-link-active">
          核心内容
        </a></span> <span class="next"><a href="/Blog/fullstackfe/Vue/">
          核心内容
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/Blog/assets/js/app.9b1cff62.js" defer></script><script src="/Blog/assets/js/29.59207d30.js" defer></script>
  </body>
</html>
