<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>jQuery源码学习 | Full Stack Engineer</title>
    <meta name="description" content="种一棵树最好的时间是十年前，其次就是现在。">
    <link rel="icon" href="/Blog/favicon.png">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.7d79d930.css" as="style"><link rel="preload" href="/Blog/assets/js/app.9b1cff62.js" as="script"><link rel="preload" href="/Blog/assets/js/32.e4ae16f7.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.03fdae6f.js"><link rel="prefetch" href="/Blog/assets/js/100.74851e27.js"><link rel="prefetch" href="/Blog/assets/js/101.a8331df3.js"><link rel="prefetch" href="/Blog/assets/js/102.66093c84.js"><link rel="prefetch" href="/Blog/assets/js/103.a2a68001.js"><link rel="prefetch" href="/Blog/assets/js/104.7d8390e6.js"><link rel="prefetch" href="/Blog/assets/js/105.e165092f.js"><link rel="prefetch" href="/Blog/assets/js/106.68747284.js"><link rel="prefetch" href="/Blog/assets/js/107.c130bd8c.js"><link rel="prefetch" href="/Blog/assets/js/108.060883b0.js"><link rel="prefetch" href="/Blog/assets/js/109.6ccf07b3.js"><link rel="prefetch" href="/Blog/assets/js/11.b7d9ee41.js"><link rel="prefetch" href="/Blog/assets/js/110.8ebb3f5b.js"><link rel="prefetch" href="/Blog/assets/js/111.bc9bf306.js"><link rel="prefetch" href="/Blog/assets/js/112.a5c9d0a4.js"><link rel="prefetch" href="/Blog/assets/js/113.7a68bb85.js"><link rel="prefetch" href="/Blog/assets/js/114.6d489d0a.js"><link rel="prefetch" href="/Blog/assets/js/115.8b31c508.js"><link rel="prefetch" href="/Blog/assets/js/116.ddd1676c.js"><link rel="prefetch" href="/Blog/assets/js/117.278275d8.js"><link rel="prefetch" href="/Blog/assets/js/118.906b76cd.js"><link rel="prefetch" href="/Blog/assets/js/119.0c229826.js"><link rel="prefetch" href="/Blog/assets/js/12.0fc01f9b.js"><link rel="prefetch" href="/Blog/assets/js/120.c88a521c.js"><link rel="prefetch" href="/Blog/assets/js/121.82668829.js"><link rel="prefetch" href="/Blog/assets/js/122.fccbd23a.js"><link rel="prefetch" href="/Blog/assets/js/123.12980065.js"><link rel="prefetch" href="/Blog/assets/js/124.5f29f942.js"><link rel="prefetch" href="/Blog/assets/js/125.17cfb9f5.js"><link rel="prefetch" href="/Blog/assets/js/126.5cc955bd.js"><link rel="prefetch" href="/Blog/assets/js/127.bdb1786e.js"><link rel="prefetch" href="/Blog/assets/js/128.017d8c6f.js"><link rel="prefetch" href="/Blog/assets/js/129.82502fed.js"><link rel="prefetch" href="/Blog/assets/js/13.e20ec1ea.js"><link rel="prefetch" href="/Blog/assets/js/130.46c9bf19.js"><link rel="prefetch" href="/Blog/assets/js/131.88ce9377.js"><link rel="prefetch" href="/Blog/assets/js/132.6efc063a.js"><link rel="prefetch" href="/Blog/assets/js/133.0a9f325d.js"><link rel="prefetch" href="/Blog/assets/js/134.6fc8d8e3.js"><link rel="prefetch" href="/Blog/assets/js/135.52453b87.js"><link rel="prefetch" href="/Blog/assets/js/136.5fd1268b.js"><link rel="prefetch" href="/Blog/assets/js/137.a76f2243.js"><link rel="prefetch" href="/Blog/assets/js/138.53b353cc.js"><link rel="prefetch" href="/Blog/assets/js/139.333d9ce4.js"><link rel="prefetch" href="/Blog/assets/js/14.ae6ee6fb.js"><link rel="prefetch" href="/Blog/assets/js/140.5c19fac7.js"><link rel="prefetch" href="/Blog/assets/js/141.50f20023.js"><link rel="prefetch" href="/Blog/assets/js/142.0914a1d8.js"><link rel="prefetch" href="/Blog/assets/js/143.d21dd047.js"><link rel="prefetch" href="/Blog/assets/js/144.8032be8d.js"><link rel="prefetch" href="/Blog/assets/js/145.b81635d8.js"><link rel="prefetch" href="/Blog/assets/js/146.165fc7b4.js"><link rel="prefetch" href="/Blog/assets/js/147.b40e46aa.js"><link rel="prefetch" href="/Blog/assets/js/148.0f0de456.js"><link rel="prefetch" href="/Blog/assets/js/149.c9c393d9.js"><link rel="prefetch" href="/Blog/assets/js/15.45b8446e.js"><link rel="prefetch" href="/Blog/assets/js/150.6cdc08ab.js"><link rel="prefetch" href="/Blog/assets/js/151.4858c28b.js"><link rel="prefetch" href="/Blog/assets/js/152.4cc133ee.js"><link rel="prefetch" href="/Blog/assets/js/153.7eea1f53.js"><link rel="prefetch" href="/Blog/assets/js/16.d58e6b8c.js"><link rel="prefetch" href="/Blog/assets/js/17.a78f924b.js"><link rel="prefetch" href="/Blog/assets/js/18.975933d0.js"><link rel="prefetch" href="/Blog/assets/js/19.976fd42e.js"><link rel="prefetch" href="/Blog/assets/js/2.8b709eb3.js"><link rel="prefetch" href="/Blog/assets/js/20.16e98ccf.js"><link rel="prefetch" href="/Blog/assets/js/21.a150fd05.js"><link rel="prefetch" href="/Blog/assets/js/22.94040b7d.js"><link rel="prefetch" href="/Blog/assets/js/23.5b9d945a.js"><link rel="prefetch" href="/Blog/assets/js/24.d6924b7e.js"><link rel="prefetch" href="/Blog/assets/js/25.8a9dd776.js"><link rel="prefetch" href="/Blog/assets/js/26.1364a4b5.js"><link rel="prefetch" href="/Blog/assets/js/27.01a1619d.js"><link rel="prefetch" href="/Blog/assets/js/28.8b7a695b.js"><link rel="prefetch" href="/Blog/assets/js/29.59207d30.js"><link rel="prefetch" href="/Blog/assets/js/3.f41d92ed.js"><link rel="prefetch" href="/Blog/assets/js/30.83510497.js"><link rel="prefetch" href="/Blog/assets/js/31.0082afa8.js"><link rel="prefetch" href="/Blog/assets/js/33.71bea411.js"><link rel="prefetch" href="/Blog/assets/js/34.7c96b0dd.js"><link rel="prefetch" href="/Blog/assets/js/35.b80e18d6.js"><link rel="prefetch" href="/Blog/assets/js/36.59c7bbff.js"><link rel="prefetch" href="/Blog/assets/js/37.a86d1dff.js"><link rel="prefetch" href="/Blog/assets/js/38.a208ce5a.js"><link rel="prefetch" href="/Blog/assets/js/39.9a545a20.js"><link rel="prefetch" href="/Blog/assets/js/4.d40323af.js"><link rel="prefetch" href="/Blog/assets/js/40.7f799a5f.js"><link rel="prefetch" href="/Blog/assets/js/41.e0d3d4f9.js"><link rel="prefetch" href="/Blog/assets/js/42.7d33d0c1.js"><link rel="prefetch" href="/Blog/assets/js/43.b0700a08.js"><link rel="prefetch" href="/Blog/assets/js/44.a78b1dc3.js"><link rel="prefetch" href="/Blog/assets/js/45.80e1ddaf.js"><link rel="prefetch" href="/Blog/assets/js/46.0db140fe.js"><link rel="prefetch" href="/Blog/assets/js/47.02a8123e.js"><link rel="prefetch" href="/Blog/assets/js/48.b94fadb2.js"><link rel="prefetch" href="/Blog/assets/js/49.ead83b1a.js"><link rel="prefetch" href="/Blog/assets/js/5.4517c4f6.js"><link rel="prefetch" href="/Blog/assets/js/50.664889d5.js"><link rel="prefetch" href="/Blog/assets/js/51.1b5ee583.js"><link rel="prefetch" href="/Blog/assets/js/52.b58908a5.js"><link rel="prefetch" href="/Blog/assets/js/53.32681978.js"><link rel="prefetch" href="/Blog/assets/js/54.e7fef1b7.js"><link rel="prefetch" href="/Blog/assets/js/55.e6d550f2.js"><link rel="prefetch" href="/Blog/assets/js/56.0cfd7072.js"><link rel="prefetch" href="/Blog/assets/js/57.3d46d2f8.js"><link rel="prefetch" href="/Blog/assets/js/58.5f196950.js"><link rel="prefetch" href="/Blog/assets/js/59.34cd8d3d.js"><link rel="prefetch" href="/Blog/assets/js/6.8b498e04.js"><link rel="prefetch" href="/Blog/assets/js/60.c1f1af36.js"><link rel="prefetch" href="/Blog/assets/js/61.ee1a194d.js"><link rel="prefetch" href="/Blog/assets/js/62.9f2f7e08.js"><link rel="prefetch" href="/Blog/assets/js/63.7c088e3d.js"><link rel="prefetch" href="/Blog/assets/js/64.e2bb46b0.js"><link rel="prefetch" href="/Blog/assets/js/65.f753c096.js"><link rel="prefetch" href="/Blog/assets/js/66.516e4781.js"><link rel="prefetch" href="/Blog/assets/js/67.66368430.js"><link rel="prefetch" href="/Blog/assets/js/68.7322e7cc.js"><link rel="prefetch" href="/Blog/assets/js/69.de893114.js"><link rel="prefetch" href="/Blog/assets/js/7.06fe3b32.js"><link rel="prefetch" href="/Blog/assets/js/70.782f92d9.js"><link rel="prefetch" href="/Blog/assets/js/71.cae855e3.js"><link rel="prefetch" href="/Blog/assets/js/72.fa15455c.js"><link rel="prefetch" href="/Blog/assets/js/73.570e2132.js"><link rel="prefetch" href="/Blog/assets/js/74.cadf29c6.js"><link rel="prefetch" href="/Blog/assets/js/75.73c1290c.js"><link rel="prefetch" href="/Blog/assets/js/76.70b6fca9.js"><link rel="prefetch" href="/Blog/assets/js/77.56e0580d.js"><link rel="prefetch" href="/Blog/assets/js/78.63eb3b59.js"><link rel="prefetch" href="/Blog/assets/js/79.a1a09dd4.js"><link rel="prefetch" href="/Blog/assets/js/8.40ca314e.js"><link rel="prefetch" href="/Blog/assets/js/80.56837d03.js"><link rel="prefetch" href="/Blog/assets/js/81.c6a73c13.js"><link rel="prefetch" href="/Blog/assets/js/82.e20196ab.js"><link rel="prefetch" href="/Blog/assets/js/83.eface677.js"><link rel="prefetch" href="/Blog/assets/js/84.2365bd14.js"><link rel="prefetch" href="/Blog/assets/js/85.3975b63f.js"><link rel="prefetch" href="/Blog/assets/js/86.e23d9f86.js"><link rel="prefetch" href="/Blog/assets/js/87.19d36deb.js"><link rel="prefetch" href="/Blog/assets/js/88.bee92a84.js"><link rel="prefetch" href="/Blog/assets/js/89.614c7d1a.js"><link rel="prefetch" href="/Blog/assets/js/9.e1312d54.js"><link rel="prefetch" href="/Blog/assets/js/90.4482c791.js"><link rel="prefetch" href="/Blog/assets/js/91.268c3e6c.js"><link rel="prefetch" href="/Blog/assets/js/92.d66ff6d3.js"><link rel="prefetch" href="/Blog/assets/js/93.f5d674fb.js"><link rel="prefetch" href="/Blog/assets/js/94.efc71026.js"><link rel="prefetch" href="/Blog/assets/js/95.9da7ada9.js"><link rel="prefetch" href="/Blog/assets/js/96.6ebf962e.js"><link rel="prefetch" href="/Blog/assets/js/97.48f4a43e.js"><link rel="prefetch" href="/Blog/assets/js/98.51b16bb9.js"><link rel="prefetch" href="/Blog/assets/js/99.6f5ba2e1.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.7d79d930.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">Full Stack Engineer</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/fullstackfe/" class="nav-link router-link-active">前端积累</a></div><div class="nav-item"><a href="/Blog/fullstackhd/" class="nav-link">后端积累</a></div><div class="nav-item"><a href="/Blog/fullstackms/" class="nav-link">面试总结</a></div><div class="nav-item"><a href="/Blog/fullstackls/" class="nav-link">成长规划</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他仓库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/fullstackcd/" class="nav-link">测试运维</a></li><li class="dropdown-item"><!----> <a href="/Blog/fullstacksf/" class="nav-link">算法总结</a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  设计模式
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  框架原理
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/188660660" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Blog/fullstackfe/" class="nav-link router-link-active">前端积累</a></div><div class="nav-item"><a href="/Blog/fullstackhd/" class="nav-link">后端积累</a></div><div class="nav-item"><a href="/Blog/fullstackms/" class="nav-link">面试总结</a></div><div class="nav-item"><a href="/Blog/fullstackls/" class="nav-link">成长规划</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他仓库</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Blog/fullstackcd/" class="nav-link">测试运维</a></li><li class="dropdown-item"><!----> <a href="/Blog/fullstacksf/" class="nav-link">算法总结</a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  设计模式
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/#" target="_blank" rel="noopener noreferrer" class="nav-link external">
  框架原理
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/188660660" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/Blog/fullstackfe/" class="sidebar-link">前端积累</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端开发环境</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>jQuery</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/Blog/fullstackfe/jQuery/" class="sidebar-link">核心内容</a></li><li><a href="/Blog/fullstackfe/jQuery/jQuerySrc/" class="active sidebar-link">jQuery源码学习</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#jquery源码学习" class="sidebar-link">jQuery源码学习</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#正版课程链接" class="sidebar-link">正版课程链接</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#基础要求" class="sidebar-link">基础要求</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#jquery源码版本" class="sidebar-link">jQuery源码版本</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#学习资源" class="sidebar-link">学习资源</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#jquery源码模块" class="sidebar-link">jQuery源码模块</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#匿名函数自调用" class="sidebar-link">匿名函数自调用</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#jquery定义和导出" class="sidebar-link">jQuery定义和导出</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#入口（61行）" class="sidebar-link">入口（61行）</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#init构造函数（101行）" class="sidebar-link">init构造函数（101行）</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#对外公开（8825行）" class="sidebar-link">对外公开（8825行）</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#定义一些变量和函数（21行-94行）" class="sidebar-link">定义一些变量和函数（21行-94行）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#rootjquery" class="sidebar-link">rootjQuery</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#readylist" class="sidebar-link">readyList</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-strundefined" class="sidebar-link">core_strundefined</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#location" class="sidebar-link">location</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#document" class="sidebar-link">document</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#docelem" class="sidebar-link">docElem</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#jquery" class="sidebar-link">_jQuery</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#" class="sidebar-link">_$</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#class2type" class="sidebar-link">class2type</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-deletedids" class="sidebar-link">core_deletedIds</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-version" class="sidebar-link">core_version</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-concat" class="sidebar-link">core_concat</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-push" class="sidebar-link">core_push</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-slice" class="sidebar-link">core_slice</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-indexof" class="sidebar-link">core_indexOf</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-tostring" class="sidebar-link">core_toString</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-hasown" class="sidebar-link">core_hasOwn</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-trim" class="sidebar-link">core_trim</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-pnum" class="sidebar-link">core_pnum</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#core-rnotwhite" class="sidebar-link">core_rnotwhite</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#rquickexpr" class="sidebar-link">rquickExpr</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#rsingletag" class="sidebar-link">rsingleTag</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#rmsprefix" class="sidebar-link">rmsPrefix</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#rdashalpha" class="sidebar-link">rdashAlpha</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#fcamelcase" class="sidebar-link">fcamelCase</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#completed" class="sidebar-link">completed</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#domcontentloaded" class="sidebar-link">DOMContentLoaded</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#渲染过程和渲染引擎" class="sidebar-link">渲染过程和渲染引擎</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#load" class="sidebar-link">load</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#addeventlistener" class="sidebar-link">addEventListener</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#removeeventlistener" class="sidebar-link">removeEventListener</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#给jquery添加方法和属性（96行-283行）" class="sidebar-link">给jQuery添加方法和属性（96行-283行）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#原型问题" class="sidebar-link">原型问题</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#jquery-2" class="sidebar-link">jquery</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#constructor" class="sidebar-link">constructor</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#exec" class="sidebar-link">exec</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#init-重要" class="sidebar-link">init (重要)</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#selector" class="sidebar-link">selector</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#length" class="sidebar-link">length</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#toattay" class="sidebar-link">toAttay()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#get" class="sidebar-link">get()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#pushstack" class="sidebar-link">pushStack()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#each" class="sidebar-link">each()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#ready" class="sidebar-link">ready()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#slice" class="sidebar-link">slice()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#first" class="sidebar-link">first()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#last" class="sidebar-link">last()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#eq" class="sidebar-link">eq()</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#jquery的继承方法（285行-347行）" class="sidebar-link">jQuery的继承方法（285行-347行）</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#jquery的扩展工具方法（349行-817行）" class="sidebar-link">jQuery的扩展工具方法（349行-817行）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#jquery-extend" class="sidebar-link">jQuery.extend({ })</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#方法列表" class="sidebar-link">方法列表</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#静态（扩展）方法" class="sidebar-link">静态（扩展）方法</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#实例方法" class="sidebar-link">实例方法</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#区别" class="sidebar-link">区别</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#expando" class="sidebar-link">expando</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#noconflict" class="sidebar-link">noConflict()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#isready" class="sidebar-link">isReady</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#readywait" class="sidebar-link">readyWait</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#holdready" class="sidebar-link">holdReady()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#ready-2" class="sidebar-link">ready()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#isfunction" class="sidebar-link">isFunction()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#isarray" class="sidebar-link">isArray</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#iswindow" class="sidebar-link">isWindow()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#isnumeric" class="sidebar-link">isNumeric()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#type" class="sidebar-link">type()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#isplainobject" class="sidebar-link">isPlainObject()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#isemptyobject" class="sidebar-link">isEmptyObject</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#err" class="sidebar-link">err()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#parsehtml" class="sidebar-link">parseHTML()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#parsejson" class="sidebar-link">parseJSON()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#parsexml" class="sidebar-link">parseXML()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#noop" class="sidebar-link">noop()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#globaleval" class="sidebar-link">globalEval()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#camelcase" class="sidebar-link">camelCase()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#nodename" class="sidebar-link">nodeName()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#each-2" class="sidebar-link">each()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#trim" class="sidebar-link">trim()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#makearray" class="sidebar-link">makeArray()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#inarray" class="sidebar-link">inArray()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#merge" class="sidebar-link">merge()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#grep" class="sidebar-link">grep()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#map" class="sidebar-link">map()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#guid" class="sidebar-link">guid</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#proxy" class="sidebar-link">proxy()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#access" class="sidebar-link">access()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#now" class="sidebar-link">now()</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#swap" class="sidebar-link">swap</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#jquery-ready-promise" class="sidebar-link">jQuery.ready.promise</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#jquery-each" class="sidebar-link">jQuery.each</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#isarraylike" class="sidebar-link">isArraylike</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#sizzle选择器（877行-2856行）" class="sidebar-link">Sizzle选择器（877行-2856行）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#为什么有sizzle" class="sidebar-link">为什么有Sizzle</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#sizzle特点" class="sidebar-link">Sizzle特点</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#sizzle选择符的实现" class="sidebar-link">Sizzle选择符的实现</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#sizzle选择符的速度" class="sidebar-link">Sizzle选择符的速度</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#严格模式" class="sidebar-link">严格模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#为什么要使用严格模式" class="sidebar-link">为什么要使用严格模式</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#严格模式的限制" class="sidebar-link">严格模式的限制</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#严格模式保留关键字" class="sidebar-link">严格模式保留关键字</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#window对象" class="sidebar-link">window对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#对象属性" class="sidebar-link">对象属性</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#对象方法" class="sidebar-link">对象方法</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#成员对象" class="sidebar-link">成员对象</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#document对象" class="sidebar-link">document对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#对象属性-2" class="sidebar-link">对象属性</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#对象方法-2" class="sidebar-link">对象方法</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#body对象" class="sidebar-link">body对象</a></li><li class="sidebar-sub-header"><a href="/Blog/fullstackfe/jQuery/jQuerySrc/#location位置对象" class="sidebar-link">location位置对象</a></li></ul></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端模块化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Web安全渗透</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>微信小程序</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CentOS</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="jquery源码学习"><a href="#jquery源码学习" aria-hidden="true" class="header-anchor">#</a> jQuery源码学习</h2> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>最后更新时间：2018年09月18日</strong></p> <p><strong>字数：62586</strong></p></div> <h2 id="正版课程链接"><a href="#正版课程链接" aria-hidden="true" class="header-anchor">#</a> 正版课程链接</h2> <ul><li><a href="https://study.163.com/course/introduction.htm?courseId=465001#/courseDetail?tab=1" target="_blank" rel="noopener noreferrer">课程链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>请大家尊重正版，购买正版课程（网易云课堂，妙味课堂出品）
https://study.163.com/course/introduction.htm?courseId=465001#/courseDetail?tab=1</p></div> <h2 id="基础要求"><a href="#基础要求" aria-hidden="true" class="header-anchor">#</a> 基础要求</h2> <ul><li>JavaScript基础扎实</li> <li>对原型和原型链非常熟悉</li> <li>熟练使用jQuery</li> <li>常用数据结构和正则表达式</li> <li>热爱前端，有深入探究研究源码的决心</li></ul> <h2 id="jquery源码版本"><a href="#jquery源码版本" aria-hidden="true" class="header-anchor">#</a> jQuery源码版本</h2> <ul><li>jquery2.0.3
<ul><li>jQuery2.0.3并不完全兼容IE 6、7、8</li></ul></li> <li>解决方案：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 不是IE就用2.03，IE8以上也用2.0.3，IE8及以下用1.11版本 </span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token punctuation">[</span><span class="token keyword">if</span> <span class="token operator">!</span><span class="token constant">IE</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;/Scripts/jquery-2.0.3.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span>endif<span class="token punctuation">]</span><span class="token operator">--</span><span class="token operator">&gt;</span>

 <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token punctuation">[</span><span class="token keyword">if</span> lte <span class="token constant">IE</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;/Scripts/jquery-1.11.1.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span>endif<span class="token punctuation">]</span><span class="token operator">--</span><span class="token operator">&gt;</span>

 <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token punctuation">[</span><span class="token keyword">if</span> gt <span class="token constant">IE</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;/Scripts/jquery-2.0.3.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token punctuation">[</span>endif<span class="token punctuation">]</span><span class="token operator">--</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li><a href="http://www.jq22.com/jquery-info122" target="_blank" rel="noopener noreferrer">jQuery所有源码下载<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.bootcdn.cn/jquery/" target="_blank" rel="noopener noreferrer">jQuery所有版本CDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="学习资源"><a href="#学习资源" aria-hidden="true" class="header-anchor">#</a> 学习资源</h2> <ul><li><a href="https://study.163.com/course/introduction.htm?courseId=465001#/courseDetail?tab=1" target="_blank" rel="noopener noreferrer">jQuery源码逐行分析<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.xuefeng666.com/jQuery/jQuerySrc/index.html" target="_blank" rel="noopener noreferrer">小峰哥jQuery学习笔记<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.cnblogs.com/chaojidan/category/634197.html" target="_blank" rel="noopener noreferrer">jquery源码解析-适合入门者<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.runoob.com/jquery/jquery-tutorial.html" target="_blank" rel="noopener noreferrer">菜鸟教程jQuery<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="jquery源码模块"><a href="#jquery源码模块" aria-hidden="true" class="header-anchor">#</a> jQuery源码模块</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  

    <span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">94</span><span class="token punctuation">)</span> 定义了一些变量和函数 <span class="token function-variable function">jQuery</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">就是我们平时用到的jquery或者$</span>
    
    <span class="token punctuation">(</span><span class="token number">96</span><span class="token punctuation">,</span><span class="token number">283</span><span class="token punctuation">)</span> 给<span class="token constant">JQ</span><span class="token function">对象添加一些方法和属性</span>
    
    <span class="token punctuation">(</span><span class="token number">285</span><span class="token punctuation">,</span><span class="token number">347</span><span class="token punctuation">)</span> extend ：<span class="token constant">JQ</span><span class="token function">的继承方法</span>
     
    <span class="token punctuation">(</span><span class="token number">349</span><span class="token punctuation">,</span><span class="token number">817</span><span class="token punctuation">)</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token function">：扩展一些工具方法</span>
    
    <span class="token punctuation">(</span><span class="token number">877</span><span class="token punctuation">,</span><span class="token number">2856</span><span class="token punctuation">)</span> Sizzle <span class="token function">：复杂选择器的实现</span>
     
    <span class="token punctuation">(</span><span class="token number">2880</span><span class="token punctuation">,</span><span class="token number">3042</span><span class="token punctuation">)</span> Callbacks ：回调对象 <span class="token function">：函数的统一管理</span>
     
    <span class="token punctuation">(</span><span class="token number">3043</span><span class="token punctuation">,</span><span class="token number">3183</span><span class="token punctuation">)</span> Deferred ：延迟对象 <span class="token function">：对异步的统一管理</span>
     
    <span class="token punctuation">(</span><span class="token number">3184</span><span class="token punctuation">,</span><span class="token number">3295</span><span class="token punctuation">)</span> support ：功能检测 <span class="token function">：根据功能，检测浏览器版本</span>
     
    <span class="token punctuation">(</span><span class="token number">3308</span><span class="token punctuation">,</span><span class="token number">3652</span><span class="token punctuation">)</span> <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ：数据缓存 <span class="token function">：</span>
     
    <span class="token punctuation">(</span><span class="token number">3653</span><span class="token punctuation">,</span><span class="token number">3797</span><span class="token punctuation">)</span> <span class="token function">queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ：队列管理 <span class="token function">：入队，出队等，比如动画效果用得到</span>
     
    <span class="token punctuation">(</span><span class="token number">3803</span><span class="token punctuation">,</span><span class="token number">4299</span><span class="token punctuation">)</span> <span class="token function">attr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">removeAttr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">removeProp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">toggleClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">等，都是对元素属性的操作</span>
     
    <span class="token punctuation">(</span><span class="token number">4300</span><span class="token punctuation">,</span><span class="token number">5128</span><span class="token punctuation">)</span> 事件操作的相关方法 <span class="token function">：add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">等事件方法</span>
    
    <span class="token punctuation">(</span><span class="token number">5140</span><span class="token punctuation">,</span><span class="token number">6057</span><span class="token punctuation">)</span> <span class="token constant">DOM</span>操作 ：添加 删除 获取 包装 <span class="token constant">DOM</span><span class="token function">筛选</span>
    
    <span class="token punctuation">(</span><span class="token number">6058</span><span class="token punctuation">,</span><span class="token number">6620</span><span class="token punctuation">)</span> <span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">)</span>：样式操作 <span class="token function">兼容性处理，浏览器支持处理</span>

    <span class="token punctuation">(</span><span class="token number">6621</span><span class="token punctuation">,</span><span class="token number">7854</span><span class="token punctuation">)</span> <span class="token function">提交的数据和ajax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token function">：</span>

    <span class="token punctuation">(</span><span class="token number">7855</span><span class="token punctuation">,</span><span class="token number">8584</span><span class="token punctuation">)</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token function">：运动的方法</span>

    <span class="token punctuation">(</span><span class="token number">8585</span><span class="token punctuation">,</span><span class="token number">8792</span><span class="token punctuation">)</span> 位置与尺寸的方法 <span class="token function">：offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">等</span>

    <span class="token punctuation">(</span><span class="token number">8804</span><span class="token punctuation">,</span><span class="token number">8821</span><span class="token punctuation">)</span> <span class="token constant">JQ</span><span class="token function">支持模块化的模式</span>

    <span class="token punctuation">(</span><span class="token number">8826</span><span class="token punctuation">)</span> window<span class="token punctuation">.</span>jQuery <span class="token operator">=</span> window<span class="token punctuation">.</span>$ <span class="token operator">=</span> jQuery<span class="token punctuation">;</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="匿名函数自调用"><a href="#匿名函数自调用" aria-hidden="true" class="header-anchor">#</a> 匿名函数自调用</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> window<span class="token punctuation">,</span> undefined <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//代码</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>ECMAScript 执行JS代码是从里到外，因此把全局变量window或jQuery对象传进来，就避免了到外层去寻找，提高效率</li> <li>不传参window，代码压缩window就不会被压缩了，传参的话，可以代码压缩</li> <li>undefined在老一辈的浏览器是不被支持的，直接使用会报错，js框架要考虑到兼容性，因此增加一个形参undefined</li> <li>注意：不要用window.undefined传递给形参，有可能window.undefined被其他人修改了，最好就是甚么都不传，形参的undefined就是真正的undefined了</li></ul> <h2 id="jquery定义和导出"><a href="#jquery定义和导出" aria-hidden="true" class="header-anchor">#</a> jQuery定义和导出</h2> <h3 id="入口（61行）"><a href="#入口（61行）" aria-hidden="true" class="header-anchor">#</a> 入口（61行）</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 定义一个局部的jquery</span>
<span class="token function-variable function">jQuery</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> context <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// jQuery对象实际上只是init构造函数的“增强”。</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>init</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> context<span class="token punctuation">,</span> rootjQuery <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>这个函数在第61行开始，算是一个最重要的函数</li> <li>我们平时用到的都是这个函数$或者jquery</li> <li>返回一个对象</li> <li>后面代码会有jQuery.fn = jQuery.prototype，所以fn就是原型</li> <li>以上就是在原型下面找init方法</li> <li>关键的一句话：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// jQuery.fn其实就是原型，然后原型给了原型的init方法的原型，形成对象引用，那么在fn原型下面的方法，通过init创建出来的实例也是可以调用的</span>
jQuery<span class="token punctuation">.</span>fn <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>prototype
jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>init<span class="token punctuation">.</span>prototype <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>
<span class="token comment">// 其实就相当于</span>
jQuery<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>init<span class="token punctuation">.</span>prototype <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="init构造函数（101行）"><a href="#init构造函数（101行）" aria-hidden="true" class="header-anchor">#</a> init构造函数（101行）</h3> <ul><li><p>jQuery对象中有一个原型方法init才是是真正的构造函数，通过init的原型对象跟jQuery的原型对象保持引用关系使得init的实例可以正常调用jQuery的原型方法，就好像是jQuery的实例一样。</p></li> <li><p>这个方法接受3个参数，其前两个参数是jQuery方法传递过来的</p></li> <li><p>Selector：</p> <ul><li>原则上可以输入任意值，但并不是所有值都是有意义的</li> <li>只有undefined、DOM 元素、字符串、函数、jQuery 对象、普通 JavaScript 对象这几种类型是有效的</li> <li>这个参数是通常是填写的但是不填写也不会报错</li></ul></li> <li><p>Context：</p> <ul><li>作为执行上下文或者叫执行范围可以不传入，或者传入 DOM 元素、jQuery 对象、普通 JavaScript 对象之一</li></ul></li> <li><p>rootjQuery：</p> <ul><li>包含了 document 对象的 jQuery 对象</li> <li>用于 document.getElementById() 查找失败、selector 是选择器表达式且未指定 context、selector 是函数的情况，其实就是$(document)</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>jQuery<span class="token punctuation">.</span>fn <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token comment">// ...</span>
    init<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> context<span class="token punctuation">,</span> rootjQuery <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="对外公开（8825行）"><a href="#对外公开（8825行）" aria-hidden="true" class="header-anchor">#</a> 对外公开（8825行）</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// If there is a window object, that at least has a document property,</span>
<span class="token comment">// define jQuery and $ identifiers</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> window <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> window<span class="token punctuation">.</span>document <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	window<span class="token punctuation">.</span>jQuery <span class="token operator">=</span> window<span class="token punctuation">.</span>$ <span class="token operator">=</span> jQuery<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>对外暴露出jquery</li></ul> <h2 id="定义一些变量和函数（21行-94行）"><a href="#定义一些变量和函数（21行-94行）" aria-hidden="true" class="header-anchor">#</a> 定义一些变量和函数（21行-94行）</h2> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>其中最重要的一个函数就是61行的函数 jQuery = function(){}</strong></p> <p><strong>就是我们平时用到的jquery或者$</strong></p></div> <h3 id="rootjquery"><a href="#rootjquery" aria-hidden="true" class="header-anchor">#</a> rootjQuery</h3> <ul><li>对根jQuery（文档）的中心引用,其实就是$(document)</li></ul> <h3 id="readylist"><a href="#readylist" aria-hidden="true" class="header-anchor">#</a> readyList</h3> <ul><li>DOM操作的变量</li></ul> <h3 id="core-strundefined"><a href="#core-strundefined" aria-hidden="true" class="header-anchor">#</a> core_strundefined</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>core_strundefined <span class="token operator">=</span> <span class="token keyword">typeof</span> undefined
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>处理浏览器兼容，老版本的IE</p></li> <li><p>最好使用typeof形式判断</p></li></ul> <h3 id="location"><a href="#location" aria-hidden="true" class="header-anchor">#</a> location</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>location <span class="token operator">=</span> window<span class="token punctuation">.</span>location
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>进行变量存储，方便快速调用</li> <li>也可以防止变量后期被外部修改后调用错误</li></ul> <h3 id="document"><a href="#document" aria-hidden="true" class="header-anchor">#</a> document</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>document = window.document
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>进行变量存储，方便快速调用</li> <li>也可以防止变量后期被外部修改后调用错误</li></ul> <h3 id="docelem"><a href="#docelem" aria-hidden="true" class="header-anchor">#</a> docElem</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>docElem = document.documentElement
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>进行变量存储，方便快速调用</li> <li>返回html dom中的root 节点 即html标签</li> <li>也可以防止变量后期被外部修改后调用错误</li></ul> <h3 id="jquery"><a href="#jquery" aria-hidden="true" class="header-anchor">#</a> _jQuery</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>_jQuery = window.jQuery
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>防冲突</li></ul> <h3 id><a href="#" aria-hidden="true" class="header-anchor">#</a> _$</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>_$ = window.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>很多库都可能会用 $</li> <li>防冲突</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>jQuery初始化时，把可能存在的window.jQuery和window.刀乐备份到局部变量_jQuery和_$。</strong></p></div> <h3 id="class2type"><a href="#class2type" aria-hidden="true" class="header-anchor">#</a> class2type</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>class2type = {}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>类型判断会用到</p></li> <li><p><code>[Object String]:'string'</code></p></li></ul> <h3 id="core-deletedids"><a href="#core-deletedids" aria-hidden="true" class="header-anchor">#</a> core_deletedIds</h3> <ul><li>这里指定为一个空数组</li> <li>数组和缓存变量有关</li></ul> <h3 id="core-version"><a href="#core-version" aria-hidden="true" class="header-anchor">#</a> core_version</h3> <ul><li>当前版本号</li></ul> <h3 id="core-concat"><a href="#core-concat" aria-hidden="true" class="header-anchor">#</a> core_concat</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>core_concat <span class="token operator">=</span> core_deletedIds<span class="token punctuation">.</span>concat
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>一些常用的方法，用局部变量的形式去存储，方便调用，下面几个都一样</li> <li>将一个或多个字符串与原字符串连接合并，返回新的字符串</li></ul> <h3 id="core-push"><a href="#core-push" aria-hidden="true" class="header-anchor">#</a> core_push</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>core_push <span class="token operator">=</span> core_deletedIds<span class="token punctuation">.</span>push<span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>尾部添加</li></ul> <h3 id="core-slice"><a href="#core-slice" aria-hidden="true" class="header-anchor">#</a> core_slice</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>core_slice = core_deletedIds.slice
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>从已有的数组中返回选定的元素:开始和结束</li></ul> <h3 id="core-indexof"><a href="#core-indexof" aria-hidden="true" class="header-anchor">#</a> core_indexOf</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>core_indexOf = core_deletedIds.indexOf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>下标</li></ul> <h3 id="core-tostring"><a href="#core-tostring" aria-hidden="true" class="header-anchor">#</a> core_toString</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>core_toString = class2type.toString
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>转为字符串</li></ul> <h3 id="core-hasown"><a href="#core-hasown" aria-hidden="true" class="header-anchor">#</a> core_hasOwn</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>core_hasOwn = class2type.hasOwnProperty
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>用来判断某个对象是否含有指定的属性的</li></ul> <h3 id="core-trim"><a href="#core-trim" aria-hidden="true" class="header-anchor">#</a> core_trim</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>core_trim = core_version.trim,
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>首尾去空格</li></ul> <h3 id="core-pnum"><a href="#core-pnum" aria-hidden="true" class="header-anchor">#</a> core_pnum</h3> <ul><li>数字匹配，包含正负数，科学计数，小数点等等</li></ul> <h3 id="core-rnotwhite"><a href="#core-rnotwhite" aria-hidden="true" class="header-anchor">#</a> core_rnotwhite</h3> <ul><li>空格分割元素</li></ul> <h3 id="rquickexpr"><a href="#rquickexpr" aria-hidden="true" class="header-anchor">#</a> rquickExpr</h3> <ul><li>前半部分匹配标签，后半部分匹配内容（#id形式）</li> <li>防止XSS注入，通过location.hash</li></ul> <h3 id="rsingletag"><a href="#rsingletag" aria-hidden="true" class="header-anchor">#</a> rsingleTag</h3> <ul><li>匹配一个独立的标签</li></ul> <h3 id="rmsprefix"><a href="#rmsprefix" aria-hidden="true" class="header-anchor">#</a> rmsPrefix</h3> <ul><li>匹配ie的前缀ms</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 正常情况下，css样式，浏览器私有前缀规则转换
-webkit-margin-left : webkitMarginLeft
// 但是ie非常特殊
-ms-margin-left : MsMarginLeft
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="rdashalpha"><a href="#rdashalpha" aria-hidden="true" class="header-anchor">#</a> rdashAlpha</h3> <ul><li>找到横杠-然后字符，转为大写，必须-ms再转为Ms，带数字也转化，比如-2d，-3d等</li></ul> <h3 id="fcamelcase"><a href="#fcamelcase" aria-hidden="true" class="header-anchor">#</a> fcamelCase</h3> <ul><li>注意函数中的参数 letter 对应的是 '([a-z]|[0-9])' 匹配的字母或数字，转换连字符为驼峰式</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function-variable function">fcamelCase</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> all<span class="token punctuation">,</span> letter <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// toUpperCase:把字符串转换为大写，返回一个新的字符串</span>
	<span class="token keyword">return</span> letter<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="completed"><a href="#completed" aria-hidden="true" class="header-anchor">#</a> completed</h3> <ul><li>DOM加载成功触发的方法</li> <li>关键字：jQuery.ready()</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function-variable function">completed</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span> <span class="token string">&quot;DOMContentLoaded&quot;</span><span class="token punctuation">,</span> completed<span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span> <span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> completed<span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	jQuery<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="domcontentloaded"><a href="#domcontentloaded" aria-hidden="true" class="header-anchor">#</a> DOMContentLoaded</h3> <ul><li><p>就是dom内容加载完毕</p></li> <li><p>当文档中没有脚本时，浏览器解析完文档便能触发 DOMContentLoaded 事件</p></li> <li><p>如果文档中包含脚本，则脚本会阻塞文档的解析，而脚本需要等位于脚本前面的css加载完才能执行。</p></li> <li><p>在任何情况下，DOMContentLoaded 的触发不需要等待图片等其他资源加载完成。</p></li> <li><p>DOMContentLoaded兼容问题：</p> <ul><li><p>支持DOMContentLoaded事件的，就使用DOMContentLoaded事件</p></li> <li><p><strong>IE6、IE7不支持DOMContentLoaded</strong>，但它支持onreadystatechange事件，该事件的目的是提供与文档或元素的加载状态有关的信息。</p></li> <li><p>更低的ie还有个特有的方法doScroll， 通过间隔调用：document.documentElement.doScroll(&quot;left&quot;);</p></li> <li><p>可以检测DOM是否加载完成。 当页面未加载完成时，该方法会报错，直到doScroll不再报错时，就代表DOM加载完成了。该方法更接近DOMContentLoaded的实现</p></li></ul></li></ul> <h3 id="渲染过程和渲染引擎"><a href="#渲染过程和渲染引擎" aria-hidden="true" class="header-anchor">#</a> 渲染过程和渲染引擎</h3> <img src="http://bmob-cdn-4908.b0.upaiyun.com/2018/09/16/9186c979402ab65e800fea6596d6a197.png"> <ul><li>渲染引擎工作原理</li></ul> <img src="http://bmob-cdn-4908.b0.upaiyun.com/2018/04/11/e10e11dc40cf8ccf80fbcf80ae31c121.png"> <ul><li>javascript会阻塞dom的解析
<ul><li>当解析过程中遇到script标签的时候，便会停止解析过程，转而去处理脚本</li> <li>如果脚本是内联的，浏览器会先去执行这段内联的脚本</li> <li>如果是外链的，那么先会去加载脚本，然后执行。在处理完脚本之后，浏览器便继续解析HTML文档。</li></ul></li> <li>现代的浏览器都使用了猜测预加载
<ul><li>为了减缓渲染被阻塞的情况，当解析被阻塞的时候，浏览器会有一个轻量级的HTML（或CSS）扫描器（scanner）继续在文档中扫描，查找那些将来可能能够用到的资源文件的url，在渲染器使用它们之前将其下载下来。</li></ul></li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong><strong>我们为什么一再强调将css放在头部，将js文件放在尾部</strong></strong></p> <ol><li>是因为浏览器生成Dom树的时候是一行一行读HTML代码的，script标签放在最后面就不会影响前面的页面的渲染</li> <li>现代浏览器为了更好的用户体验,渲染引擎将尝试尽快在屏幕上显示的内容。它不会等到所有HTML解析之前开始构建和布局渲染树。部分的内容将被解析并显示。</li> <li>也就是说浏览器能够渲染不完整的dom树和cssom，尽快的减少白屏的时间。假如我们将js放在header，js将阻塞解析dom，dom的内容会影响到First Paint，导致First Paint延后。所以说我们会将js放在后面，以减少First Paint的时间，但是不会减少DOMContentLoaded被触发的时间。</li> <li>老版本的浏览器：
<ol><li>Dom树完全生成好后页面才能渲染出来</li> <li>浏览器又必须读完全部HTML才能生成完整的Dom树</li> <li>script标签不放在body底部也一样，因为dom树的生成需要整个文档解析完毕</li> <li>但是这样会阻塞线程，现代浏览器基本不是这个流程了</li></ol></li></ol></div> <h3 id="load"><a href="#load" aria-hidden="true" class="header-anchor">#</a> load</h3> <ul><li>页面上所有的资源（图片，音频，视频等）被加载以后才会触发load事件</li> <li>简单来说，页面的load事件会在DOMContentLoaded被触发之后才触发</li> <li>onload事件所有的浏览器都支持：window.load=function(){}</li> <li>我们在 jQuery 中经常使用的 (document).ready(function() { // ...代码... }); 其实监听的就是 DOMContentLoaded 事件</li> <li>而(document).load(function() { // ...代码... }); 监听的是 load 事件。</li> <li>在用jquery的时候，我们一般都会将函数调用写在ready方法内，就是页面被解析后，我们就可以访问整个页面的所有dom元素，可以缩短页面的可交互时间，提高整个页面的体验</li></ul> <h3 id="addeventlistener"><a href="#addeventlistener" aria-hidden="true" class="header-anchor">#</a> addEventListener</h3> <ul><li>用于向指定元素添加事件句柄</li> <li><strong>使用  removeEventListener()  方法来移除 addEventListener() 方法添加的事件句柄</strong></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 为 &lt;button&gt; 元素添加点击事件。 当用户点击按钮时，在 id=&quot;demo&quot; 的 &lt;p&gt; 元素上输出 &quot;Hello World&quot; :</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>Internet Explorer 8 及更早IE版本不支持 addEventListener() 方法</strong></p> <p>Opera 7.0 及 Opera 更早版本也不支持。</p> <p><strong>对于这些不支持该函数的浏览器，你可以使用 <strong>attachEvent()</strong> 方法来添加事件句柄</strong></p></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment">//所有主流浏览器，除了 IE 8 及更早 IE版本</span>
    x<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> myFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>                  <span class="token comment">// IE 8 及更早 IE 版本</span>
    x<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;onclick&quot;</span><span class="token punctuation">,</span> myFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>参数</th> <th>描述</th></tr></thead> <tbody><tr><td><em>event</em></td> <td>必须。字符串，指定事件名。  <br><strong>注意:</strong> 不要使用 &quot;on&quot; 前缀。 例如，使用 &quot;click&quot; ,而不是使用 &quot;onclick&quot;。  <br> <strong>提示：</strong> 所有 HTML DOM 事件，可以查看菜鸟教程完整的 <a href="http://www.runoob.com/jsref/dom-obj-event.html" target="_blank" rel="noopener noreferrer">HTML DOM Event 对象参考手册<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</td></tr> <tr><td><em>function</em></td> <td>必须。指定要事件触发时执行的函数。  <br>当事件对象会作为第一个参数传入函数。 事件对象的类型取决于特定的事件。例如， &quot;click&quot; 事件属于 MouseEvent(鼠标事件) 对象。</td></tr> <tr><td><em>useCapture</em></td> <td>可选。布尔值，指定事件是否在捕获或冒泡阶段执行。  <br>可能值:<br>true 事件句柄在捕获阶段执行<br>false- 默认。事件句柄在冒泡阶段执行</td></tr></tbody></table> <ul><li>您可以通过函数名来引用外部函数。</li> <li>您可以在文档中添加许多事件，添加的事件不会覆盖已存在的事件</li> <li>您可以在同一个元素中添加不同类型的事件</li> <li>当传递参数值时，使用&quot;匿名函数&quot;调用带参数的函数</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 添加两个点击事件，不会覆盖</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> myFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> someOtherFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 添加多个不同事件</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mouseover&quot;</span><span class="token punctuation">,</span> myFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> someOtherFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mouseout&quot;</span><span class="token punctuation">,</span> someOtherFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用&quot;匿名函数&quot;调用带参数的函数</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">myFunction</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// this访问元素</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myBtn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 添加 &lt;div&gt; 事件句柄 </span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDIV&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mousemove&quot;</span><span class="token punctuation">,</span> myFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 移除 &lt;div&gt; 事件句柄 </span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDIV&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mousemove&quot;</span><span class="token punctuation">,</span> myFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="removeeventlistener"><a href="#removeeventlistener" aria-hidden="true" class="header-anchor">#</a> removeEventListener</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 语法</span>
element<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">,</span> useCapture<span class="token punctuation">)</span>

<span class="token comment">// 移除 &lt;div&gt; 元素的事件句柄</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDIV&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mousemove&quot;</span><span class="token punctuation">,</span> myFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>如果要移除事件句柄，addEventListener() 的执行函数必须使用外部函数</li> <li><strong>匿名函数，类似 &quot;document.removeEventListener(&quot;<em>event</em>&quot;, function(){ <em>myScript</em> });&quot; 该事件是无法移除的</strong>。</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>Internet Explorer 8 及更早IE版本不支持 removeEventListener() 方法</strong>，Opera 7.0 及 Opera 更早版本也不支持。</p> <p>对于这些不支持该函数的浏览器，你可以使用 <strong>detachEvent()</strong> 方法来移除由 attachEvent() 方法添加的事件句柄</p> <p><strong>这个也可能是jquery2.0.3不支持IE678的原因</strong></p> <p><strong>文章最顶部有IE678关于jQuery兼容写法</strong></p></div> <table><thead><tr><th>参数</th> <th>描述</th></tr></thead> <tbody><tr><td><em>event</em></td> <td>必须。要移除的事件名称。<br>**注意:**不要使用 &quot;on&quot; 前缀。 例如，使用 &quot;click&quot; ,而不是使用 &quot;onclick&quot;。   <br><strong>提示:</strong> 所有 HTML DOM 事件，可以查看菜鸟教程完整的 <a href="http://www.runoob.com/jsref/dom_obj_event.asp" target="_blank" rel="noopener noreferrer">HTML DOM Event 对象参考手册<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</td></tr> <tr><td><em>function</em></td> <td>必须。指定要移除的函数。</td></tr> <tr><td><em>useCapture</em></td> <td>可选。布尔值，指定移除事件句柄的阶段。 <br> 可能值：<br>true - 在捕获阶段移除事件句柄<br>false- 默认。在冒泡阶段移除事件句柄<br><strong>注意:</strong> 如果添加两次事件句柄，一次在捕获阶段，一次在冒泡阶段，你必须单独移除该事件。</td></tr></tbody></table> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDIV&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>removeEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>                   <span class="token comment">// // 所有浏览器，除了 IE 8 及更早IE版本</span>
    x<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mousemove&quot;</span><span class="token punctuation">,</span> myFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>detachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>                   <span class="token comment">// IE 8 及更早IE版本</span>
    x<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">&quot;onmousemove&quot;</span><span class="token punctuation">,</span> myFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="给jquery添加方法和属性（96行-283行）"><a href="#给jquery添加方法和属性（96行-283行）" aria-hidden="true" class="header-anchor">#</a> 给jQuery添加方法和属性（96行-283行）</h2> <ul><li>其中最重要的一个init方法</li></ul> <h3 id="原型问题"><a href="#原型问题" aria-hidden="true" class="header-anchor">#</a> 原型问题</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>jQuery<span class="token punctuation">.</span>fn <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 原型对象</span>
    constructor<span class="token punctuation">:</span> jQuery<span class="token punctuation">,</span><span class="token comment">//指回来</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>对象引用，jQuery原型给了jQuery.fn</li> <li>给原型对象新添加实例属性和方法</li></ul> <h3 id="jquery-2"><a href="#jquery-2" aria-hidden="true" class="header-anchor">#</a> jquery</h3> <ul><li>添加jQuery版本</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>jquery<span class="token punctuation">:</span> core_version<span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="constructor"><a href="#constructor" aria-hidden="true" class="header-anchor">#</a> constructor</h3> <ul><li>修正this指向问题</li> <li>因为新的对象覆盖了原来的原型对象，需要修正</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>constructor<span class="token punctuation">:</span> jQuery<span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="exec"><a href="#exec" aria-hidden="true" class="header-anchor">#</a> exec</h3> <ul><li>exec() 方法用于检索字符串中的正则表达式的匹配</li> <li>返回一个数组，其中存放匹配的结果。如果未找到匹配，则返回值为 null。</li> <li>此数组的第 0 个元素是与正则表达式相匹配的文本</li> <li>第 1 个元素是与 RegExpObject 的第 1 个子表达式相匹配的文本（如果有的话），第 2 个元素是与 RegExpObject 的第 2 个子表达式相匹配的文本（如果有的话）</li> <li></li></ul> <h3 id="init-重要"><a href="#init-重要" aria-hidden="true" class="header-anchor">#</a> init (重要)</h3> <ul><li>初始化和参数管理</li> <li>init其实是真正的构造函数</li> <li>selector类型很多，判断处理：
<ul><li>不合法处理，空，null，undefined，false等，直接返回this</li> <li>判断字符串：
<ul><li>代码作用：
<ul><li>字符串可以选择元素</li> <li>还可以创建元素</li></ul></li> <li>判断是不是标签，创建元素：
<ul><li>判断左边第一个字符是不是&lt;</li> <li>判断最后一个字符是不是&gt;</li> <li>在判断长度是不是大于等于3</li></ul></li> <li>判断是不是选择元素</li></ul></li> <li>判断DOM元素：nodeType</li> <li>$()传递的函数形式：isFunction</li> <li>传递数组或者json形式</li></ul></li> <li>判断是否是字符串，字符串的处理：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	单标签：match <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token string">'&lt;li&gt;'</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">]</span>
	多个：match <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token string">'&lt;li&gt;11&lt;/li&gt;&lt;li&gt;22&lt;/li&gt;'</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    正则匹配，匹配情况<span class="token number">1.</span>id元素，或者是标签开头的<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>xxx，但是别的<span class="token punctuation">.</span>box div<span class="token punctuation">.</span>box等复杂情况匹配不到，就会返回<span class="token keyword">null</span><span class="token punctuation">(</span>空<span class="token punctuation">)</span>
    
    match <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// $('.box')$('div')$('#div div.box')$('')</span>
    match <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token comment">// $('#div1')$('&lt;li&gt;xxx')</span>
    <span class="token comment">// 示例：</span>
    match <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'#div1'</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token string">'div1'</span><span class="token punctuation">]</span> <span class="token comment">// $('#div1')</span>
    match <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'&lt;li&gt;xxx'</span><span class="token punctuation">,</span><span class="token string">'&lt;li&gt;'</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">]</span> <span class="token comment">// $('&lt;li&gt;xxx')  //这句是后面写不写文章都不会被创建的原因，因为正则匹配的问题</span>
<span class="token punctuation">}</span>

<span class="token comment">// 能进入if的标签和id</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>match <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>match<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token operator">!</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>match<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 标签的情况</span>
        <span class="token comment">//1. 首先context上下文需要是元生的document对象</span>
        <span class="token comment">//2. jQuery.parseHTML方法:用于将HTML字符串解析为对应的DOM节点数组，返回一个数组</span>
        <span class="token comment">// 方法详细解析说明，后面部分有</span>
        $<span class="token punctuation">.</span><span class="token function">parseHTML</span><span class="token punctuation">(</span> htmlString <span class="token punctuation">[</span><span class="token punctuation">,</span> context <span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> keepScripts <span class="token punctuation">]</span> <span class="token punctuation">)</span>
        <span class="token function">htmlString</span><span class="token punctuation">(</span>String类型<span class="token punctuation">)</span><span class="token punctuation">:</span>需要解析并转为<span class="token constant">DOM</span>节点数组的<span class="token constant">HTML</span>字符串
        <span class="token function">context</span><span class="token punctuation">(</span>Element类型<span class="token punctuation">)</span><span class="token punctuation">:</span>指定在哪个Document中创建元素，默认为当前文档的document
        <span class="token function">keepScripts</span><span class="token punctuation">(</span>Boolean类型<span class="token punctuation">)</span><span class="token punctuation">:</span>指定传入的<span class="token constant">HTML</span>字符串中是否包含脚本，默认为<span class="token boolean">false</span>

        <span class="token comment">// merge：合并两个数组内容到第一个数组，在jQuery内部是可以合并特殊的json的</span>

        <span class="token comment">// 处理创建标签，并且添加属性的形式,其中属性是json形式：$('&lt;div&gt;',{title:'hello',html:'1234'})</span>
        <span class="token comment">// rsingleTag = /^&lt;(\w+)\s*\/?&gt;(?:&lt;\/\1&gt;|)$/,</span>
        <span class="token comment">// 1. 匹配单标签：&lt;li&gt;或者&lt;li&gt;&lt;/li&gt;其余都不可以,必须是单个标签，2个li就不行了</span>
        <span class="token comment">// 2. 必须是一个对象字面量，也就是后面必须是json的形式才可以创建</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token comment">// 对json进行for in 循环</span>
           <span class="token comment">// 如果jQuery有这个方法，就调用这个方法</span>
           <span class="token comment">// 如果么有这个方法，就添加这个属性attr</span>
        <span class="token punctuation">}</span>
         <span class="token keyword">else</span> <span class="token punctuation">{</span>
           <span class="token comment">// id的情况</span>
           <span class="token comment">// 根据id获取元素</span>
           <span class="token comment">// 判断元素是否存在，存在就拼接json</span>
           <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span><span class="token number">1</span>
           <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> 元素
           <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> document
           <span class="token keyword">this</span><span class="token punctuation">.</span>selector <span class="token operator">=</span> selector
           <span class="token keyword">return</span> <span class="token keyword">this</span>
        <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 
 <span class="token comment">// 更复杂的情况，就是调用find方法进行</span>
 <span class="token comment">// $(document).find('ul li.box') 其实find内部调用的就是sizzle这个选择器引擎</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><ul><li>判断DOM元素
<ul><li>判断是否有nodeType即可</li> <li>这个其实就是DOM对象转jQuery对象</li></ul></li> <li>判断是不是函数
<ul><li>jQuery.isFunction，一般都是为了入口函数 ready</li> <li>$(function(){}):简写的形式，其实本质调用的还是ready方法</li></ul></li> <li>处理特殊情况：$(里面还是一个jquery对象)</li> <li>处理一个json或者数组之类的情况</li> <li>makeArray
<ul><li>将一个类似数组的对象转换为真正的数组对象</li> <li>类数组对象具有许多数组的属性(例如length属性，[]数组访问运算符等)，不过它毕竟不是数组，缺少从数组的原型对象上继承下来的内置方法(例如：pop()、reverse()等)</li> <li>在jQuery内部其实是可以传第二个参数的，那么这个时候，就是转为我们想要的json对象的形式</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
	<span class="token keyword">var</span> elems <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个节点列表</span>
	<span class="token keyword">var</span> arr <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">makeArray</span><span class="token punctuation">(</span>elems<span class="token punctuation">)</span><span class="token punctuation">;</span>
	arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//对列表的元素使用一个数组方法</span>
	<span class="token function">$</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="selector"><a href="#selector" aria-hidden="true" class="header-anchor">#</a> selector</h3> <ul><li>存储选择字符串</li></ul> <h3 id="length"><a href="#length" aria-hidden="true" class="header-anchor">#</a> length</h3> <ul><li>this对象的长度</li></ul> <h3 id="toattay"><a href="#toattay" aria-hidden="true" class="header-anchor">#</a> toAttay()</h3> <ul><li>转原生数组</li></ul> <h3 id="get"><a href="#get" aria-hidden="true" class="header-anchor">#</a> get()</h3> <ul><li>不穿参数：转原生DOM元素的集合，数组</li> <li>传递参数：获取某个DOM元素</li></ul> <h3 id="pushstack"><a href="#pushstack" aria-hidden="true" class="header-anchor">#</a> pushStack()</h3> <ul><li>JQ对象的入栈</li> <li>栈：
<ul><li>先进后出</li> <li>后进先出</li></ul></li> <li>prevObject：保存之前的对象，在链式编程end()方法（回溯到上一个对象）中会用得到</li></ul> <h3 id="each"><a href="#each" aria-hidden="true" class="header-anchor">#</a> each()</h3> <ul><li>遍历集合</li> <li>最终调用的其实是jQuery工具下面的each方法</li></ul> <h3 id="ready"><a href="#ready" aria-hidden="true" class="header-anchor">#</a> ready()</h3> <ul><li>DOM加载的接口</li> <li>最终调用的其实是jQuery工具下面的ready方法</li></ul> <h3 id="slice"><a href="#slice" aria-hidden="true" class="header-anchor">#</a> slice()</h3> <ul><li>集合的截取</li> <li>最终调用的是入栈方法pushStack()</li></ul> <h3 id="first"><a href="#first" aria-hidden="true" class="header-anchor">#</a> first()</h3> <ul><li>集合的第一项</li> <li>其实调用的就是eq方法eq(0)</li></ul> <h3 id="last"><a href="#last" aria-hidden="true" class="header-anchor">#</a> last()</h3> <ul><li>集合的最后一项</li> <li>其实调用的就是eq方法eq(-1)</li></ul> <h3 id="eq"><a href="#eq" aria-hidden="true" class="header-anchor">#</a> eq()</h3> <ul><li>找到集合当中指定的某一项</li> <li>参数可以是负数</li></ul> <h2 id="jquery的继承方法（285行-347行）"><a href="#jquery的继承方法（285行-347行）" aria-hidden="true" class="header-anchor">#</a> jQuery的继承方法（285行-347行）</h2> <ul><li>jQuery.extend = jQuery.fn.extend = function() { }</li> <li>更容易进行后期的扩展</li></ul> <h2 id="jquery的扩展工具方法（349行-817行）"><a href="#jquery的扩展工具方法（349行-817行）" aria-hidden="true" class="header-anchor">#</a> jQuery的扩展工具方法（349行-817行）</h2> <h3 id="jquery-extend"><a href="#jquery-extend" aria-hidden="true" class="header-anchor">#</a> jQuery.extend({ })</h3> <h3 id="方法列表"><a href="#方法列表" aria-hidden="true" class="header-anchor">#</a> 方法列表</h3> <ul><li>版本控制、DOM加载完成事件、js类型判断、脚步解析、数组操作、权限控制、时间和其他工具方法</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    expando<span class="token punctuation">:</span> <span class="token string">'字符串'</span><span class="token punctuation">,</span> 
    noConflict<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    isReady<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    readyWait<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    holdReady<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    ready<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    isFunction<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    isArray<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    isWindow<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    isNumeric<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    type<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    isPlainObject<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    isEmptyObject<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    error<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    parseHTML<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    parseJSON<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    parseXML<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    noop<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    globalEval<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    camelCase<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    nodeName<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    each<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    trim<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    makeArray<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    inArray<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    merge<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    grep<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    map<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    guid<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    proxy<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    access<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    now<span class="token punctuation">:</span> <span class="token string">'方法'</span><span class="token punctuation">,</span>
    swap<span class="token punctuation">:</span> <span class="token string">'方法'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="静态（扩展）方法"><a href="#静态（扩展）方法" aria-hidden="true" class="header-anchor">#</a> 静态（扩展）方法</h3> <ul><li>jQuery.extend()</li></ul> <ul><li>属于类的方法，即类可以直接调用的方法。</li> <li>为类所有实例化对象所共用（但不能用实例对象之间调用），所以静态成员只在内存中占一块区域</li></ul> <h3 id="实例方法"><a href="#实例方法" aria-hidden="true" class="header-anchor">#</a> 实例方法</h3> <ul><li>jQuery.fn.extend()</li></ul> <ul><li>属于实例化类后对象的方法，即实例对象调用的方法。</li> <li>每创建一个类的实例，都会在内存中为非静态成员分配一块存储；</li></ul> <h3 id="区别"><a href="#区别" aria-hidden="true" class="header-anchor">#</a> 区别</h3> <ul><li>jQuery.extend()：
<ul><li>是扩展的jQuery这个类，静态方法，跟类（jquery有关），和实例无关</li></ul></li> <li>jQuery.fn.extend()：
<ul><li>jQuery.fn=jQuery.prototype</li> <li>jQuery.fn.extend拓展的是jQuery对象（原型的）的方法</li> <li>jQuery.fn.extend拓展的方法，你得用在jQuery对象上面才行</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 只能jquery对象才能调用，需要用对象去调用</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 前面$其实是一个函数</span>
<span class="token comment">// 既可以给jquery对象来用，也可以给原生的js来用</span>
$<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
$<span class="token punctuation">.</span><span class="token function">proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="expando"><a href="#expando" aria-hidden="true" class="header-anchor">#</a> expando</h3> <ul><li>唯一性</li> <li>core_version 为jQuery的版本号。</li> <li>\D的意思是：不是数字的，就选中。</li> <li>因此expando就是jQuery+一段整数。</li> <li>数据缓存，ajax，事件机制都用到了这个。</li></ul> <h3 id="noconflict"><a href="#noconflict" aria-hidden="true" class="header-anchor">#</a> noConflict()</h3> <ul><li>处理冲突，因为有些库可能会用到$甚至jQuery</li> <li>其他一些 JavaScript 框架包括：MooTools、Backbone、Sammy、Cappuccino、Knockout、JavaScript MVC、Google Web Toolkit、Google Closure、Ember、Batman 以及 Ext JS。</li> <li>noConflict() 方法会释放会 $ 标识符的控制，这样其他脚本就可以使用它了</li> <li>我们可以调用jq = $.onConflict(true);这时jq就可以当做jQuery了,并且其他库可以使用jQuery的到乐标识符了</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>noConflict<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> deep <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果window.$ === jQuery，则设置window.$为初始化时备份的_$。也就是说，只有在当前jQuery库持有全局变量$的情况下，才会释放$的控制权给前一个JavaScript库</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> window<span class="token punctuation">.</span>$ <span class="token operator">===</span> jQuery <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span>$ <span class="token operator">=</span> _$<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// 如果参数deep为true，并且window.jQuery === jQuery，则设置window.jQuery为初始化时备份的_jQuery。</span>
    <span class="token comment">// 如果参数deep为true，只有在当前jQuery库持有全局变量jQuery的情况下，才会释放jQuery的控制权给前一个JavaScript库。</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> deep <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>jQuery <span class="token operator">===</span> jQuery <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span>jQuery <span class="token operator">=</span> _jQuery<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> jQuery<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="isready"><a href="#isready" aria-hidden="true" class="header-anchor">#</a> isReady</h3> <ul><li>DOM准备好了吗？一旦发生，就设置为真</li></ul> <h3 id="readywait"><a href="#readywait" aria-hidden="true" class="header-anchor">#</a> readyWait</h3> <ul><li>一个计数器，用于跟踪准备好的事件发生之前等待多少项目</li> <li>要加载多个文件时（a.js,b.js），就要每次都++</li></ul> <h3 id="holdready"><a href="#holdready" aria-hidden="true" class="header-anchor">#</a> holdReady()</h3> <ul><li>用于暂停或恢复.ready() 事件的执行
<ul><li>恢复执行一次，减少一次jQuery.readyWait，直到它为0</li></ul></li> <li>该方法必须在文档靠前部分被调用，例如，在头部加载完 jQuery 脚本之后，立刻调用该方法。如果在 ready 事件已经被调用后再调用该方法，将不会起作用。</li> <li>首先调用<code>$.holdReady(true)</code>[调用后 ready 事件将被锁定]。当准备好执行 ready 事件时，调用$.holdReady(false)。</li> <li>可以对 ready 事件添加多个锁定，每个锁定对应一次$.holdReady(false)[解锁]调用。</li> <li>ready 事件将在所有的锁定都被解除，并且页面也已经准备好的情况下被触发。</li></ul> <h3 id="ready-2"><a href="#ready-2" aria-hidden="true" class="header-anchor">#</a> ready()</h3> <ul><li>当 DOM（文档对象模型） 已经加载，并且页面（包括图像）已经完全呈现时，会发生 ready 事件</li> <li>ready() 函数仅能用于当前文档，因此无需选择器</li> <li>三种写法</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>$(document).ready(function)

$().ready(function)

$(function)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>ready() 函数不应与 body的onload=&quot;&quot;一起使用</strong></p></div> <h3 id="isfunction"><a href="#isfunction" aria-hidden="true" class="header-anchor">#</a> isFunction()</h3> <ul><li>判断是否是function</li> <li><strong>在低版本IE浏览器下typeof alert   返回object,而不是function</strong></li> <li><strong>这个方法的实现依赖于方法jQuery.type( obj )，通过判断 jQuery.type( obj )返回值是否是 function 来实现</strong></li></ul> <h3 id="isarray"><a href="#isarray" aria-hidden="true" class="header-anchor">#</a> isArray</h3> <ul><li><p>isArray = Array.isArray</p></li> <li><p>不兼容IE8以及以下版本</p></li></ul> <h3 id="iswindow"><a href="#iswindow" aria-hidden="true" class="header-anchor">#</a> isWindow()</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>isWindow<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> obj <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> obj <span class="token operator">===</span> obj<span class="token punctuation">.</span>window<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>判断是不是window</p></li> <li><p>false == null 结果是  false</p></li> <li><p>true == null 结果 false</p></li> <li><p>只有null和undefined才等于null，而只有这两个变量没有属性。其他的像字符串有包装对象，可以有属性。</p></li> <li><p>window有两种意思：</p> <ul><li>全局对象</li> <li>浏览器窗口。</li> <li>而只有window才有window属性，因此只有window才会返回true</li> <li>window.window表示全局对象中的浏览器窗口。</li></ul></li></ul> <h3 id="isnumeric"><a href="#isnumeric" aria-hidden="true" class="header-anchor">#</a> isNumeric()</h3> <ul><li>先判断参数是否能转成数字，不可以就是NaN，那么isNaN就会返回true</li> <li>如果是数字，但是必须是有限数，不然也不是number类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>isNumeric<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isFinite</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>先执行parseFloat( obj )尝试把参数obj解析为数字</li> <li>然后用isNaN()判断解析结果是否是合法数字，并用isFinite()判断参数obj是否是有限的。</li> <li>如果parseFloat( obj )的解析结果是合法数字，并且参数obj是有限数字，则返回true；否则返回false。</li> <li>方法parseFloat( string )用于对字符串参数进行解析，并返回字符串中的第一个数字。
<ul><li>在解析过程中，如果遇到了不是有效数字的字符，解析就会停止并返回解析结果；</li> <li>如果字符串没有以一个有效的数字开头，则返回NaN；</li> <li>如果传入的参数是对象，则自动调用该对象的方法toString()，得到该对象的字符串表示，然后再执行解析过程</li></ul></li> <li>方法isNaN( x )用于判断参数是否为非数字值，常用于检测方法parseFloat()和parseInt()的解析结果。</li> <li>方法isFinite( number )用于判断一个数字是否是有限的。</li></ul> <h3 id="type"><a href="#type" aria-hidden="true" class="header-anchor">#</a> type()</h3> <ul><li>确定JavaScript内置对象的类型</li> <li>返回小写形式的类型名称</li> <li>如果对象是undefined或null，则返回相应的&quot;undefined&quot;或&quot;null&quot;</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>type<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> obj <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Support: Safari &lt;= 5.1 (functionish RegExp)</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">?</span>
    	class2type<span class="token punctuation">[</span> core_toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">:</span>
    	<span class="token keyword">typeof</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>如果参数obj是undefined或null，通过String( obj )转换为对应的原始字符串“undefined”或“null”</li> <li>如果参数是JavaScript内部对象，则返回对应的字符串名称；其他情况一律返回“object”。
<ul><li>先借用Object的原型方法toString()获取obj的字符串表示，返回值的形式为[object class]，其中的class是内部对象类，</li> <li>例如，Object.prototype.toString.call( true )会返回[object Boolean]；</li> <li>然后从对象class2type中取出[object class]对应的小写字符串并返回；如果未取到则一律返回“object”。</li></ul></li> <li>对象class2type初始化后的结构为：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
   <span class="token string">&quot;[object Array]&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;array&quot;</span>
   <span class="token string">&quot;[object Boolean]&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;boolean&quot;</span>
   <span class="token string">&quot;[object Date]&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;date&quot;</span>
   <span class="token string">&quot;[object Function]&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;function&quot;</span>
   <span class="token string">&quot;[object Number]&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;number&quot;</span>
   <span class="token string">&quot;[object Object]&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;object&quot;</span>
   <span class="token string">&quot;[object RegExp]&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;regexp&quot;</span>
   <span class="token string">&quot;[object String]&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> undefined <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;undefined&quot;</span>

$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;undefined&quot;</span>

$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> window<span class="token punctuation">.</span>notDefined <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;undefined&quot;</span>

$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;null&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>如果对象有一个内部属性[[Class]]和一个浏览器的内置对象的 [[Class]] 相同，我们返回相应的 [[Class]] 名字</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;boolean&quot;</span>

$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span>

$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token string">&quot;test&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span>

$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span>

$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;array&quot;</span>

$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;date&quot;</span>

$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;error&quot;</span> <span class="token comment">// jQuery 1.9 新增支持</span>

$<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> <span class="token regex">/test/</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;regexp&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="isplainobject"><a href="#isplainobject" aria-hidden="true" class="header-anchor">#</a> isPlainObject()</h3> <ul><li>判断指定参数是否是一个纯粹的对象</li> <li>即是否是用对象直接量{}或new Object()创建的对象</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>isPlainObject<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	
		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> obj<span class="token punctuation">.</span>nodeType <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">isWindow</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
    
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> obj<span class="token punctuation">.</span>constructor <span class="token operator">&amp;&amp;</span>
					<span class="token operator">!</span>core_hasOwn<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&quot;isPrototypeOf&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li><p>如果参数obj满足以下条件之一，则返回false</p> <ul><li>Object.prototype.toString.call( obj )返回的不是[object Object]</li> <li>参数obj是DOM元素</li> <li>参数obj是window对象</li> <li>如果参数obj不满足以上所有条件，则至少可以确定参数obj是对象</li></ul></li> <li><p>检查对象obj是否由构造函数Object()创建。如果对象obj满足以下所有条件，则认为不是由构造函数Object()创建，而是由自定义构造函数创建，返回false</p> <ul><li>对象obj含有属性constructor。
<ul><li>由构造函数创建的对象都有一个constructor属性，默认引用了该对象的构造函数。如果对象obj没有属性constructor，则说明该对象必然是通过对象字面量{}创建的。</li></ul></li> <li>对象obj的属性constructor是非继承属性。
<ul><li>默认情况下，属性constructor继承自构造函数的原型对象。如果属性constructor是非继承属性，说明该属性已经在自定义构造函数中被覆盖。</li></ul></li> <li>对象obj的原型对象中没有属性isPrototypeOf。
<ul><li>属性isPrototypeOf是Object原型对象的特有属性，如果对象obj的原型对象中没有，说明不是由构造函数Object()创建，而是由自定义构造函数创建。</li></ul></li> <li>函数hasOwn()指向Object.prototype.hasOwnProperty( property )，用于检查对象是否含有执行名称的非继承属性</li></ul></li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>在IE 8/9中，在某些浏览器对象上执行以上检测时会抛出异常，也应该返回false。</strong></p></div> <h3 id="isemptyobject"><a href="#isemptyobject" aria-hidden="true" class="header-anchor">#</a> isEmptyObject</h3> <ul><li>isEmptyObject() 函数用于检查对象是否为空（不包含任何属性）</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>isEmptyObject<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> name<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> name <span class="token keyword">in</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>for-in 循环遍历，如果有属性，就返回false，没有就是true</li></ul> <h3 id="err"><a href="#err" aria-hidden="true" class="header-anchor">#</a> err()</h3> <ul><li>接受一个字符串，抛出一个包含了该字符串的异常。</li> <li>开发插件时可以覆盖这个方法，用来显示更有用或更多的错误提示消息</li></ul> <h3 id="parsehtml"><a href="#parsehtml" aria-hidden="true" class="header-anchor">#</a> parseHTML()</h3> <ul><li>将HTML字符串解析为对应的DOM节点数组</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>parseHTML<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> data<span class="token punctuation">,</span> context<span class="token punctuation">,</span> keepScripts <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// 对于非法参数一律返回null。如果参数data不是字符串，或者可以转换为false，则返回null。</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>data <span class="token operator">||</span> <span class="token keyword">typeof</span> data <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 只有两个参数的时候，第二个就是是否保存script标签，这时候context就没有传进来!</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> context <span class="token operator">===</span> <span class="token string">&quot;boolean&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        keepScripts <span class="token operator">=</span> context<span class="token punctuation">;</span>
        context <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 如果只有两个参数那么context就是document对象!</span>
    context <span class="token operator">=</span> context <span class="token operator">||</span> document<span class="token punctuation">;</span>

    <span class="token comment">// 如果不是单个标签那么parsed就是null,所谓的单个标签就是&lt;div/&gt;或者&lt;div&gt;&lt;/div&gt;但是&lt;div&gt;hello&lt;/div&gt;不满足!</span>
    <span class="token keyword">var</span> parsed <span class="token operator">=</span> rsingleTag<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> data <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// 如果keepScripts是false，那么scripts就是</span>
        scripts <span class="token operator">=</span> <span class="token operator">!</span>keepScripts <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// Single tag</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> parsed <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果是单个标签就调用相应的createElement方法，默认上下文是document!</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span> context<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> parsed<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// 如果不是单个标签就调用buildFragment方法，把html字符串传入，同时上下文也传入，第三个参数就是scripts!</span>
    <span class="token comment">// 如果paseHTML的第三个参数是false，那么这里的scripts就是一个数组，传递到buildFragment中会把所有的script标签放在里面</span>
	<span class="token comment">//所以就要收到移除!</span>
    parsed <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">buildFragment</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> data <span class="token punctuation">]</span><span class="token punctuation">,</span> context<span class="token punctuation">,</span> scripts <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span> scripts <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">jQuery</span><span class="token punctuation">(</span> scripts <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// buildFragment返回的是文档碎片，所以要变成数组，调用merge方法</span>
    <span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> parsed<span class="token punctuation">.</span>childNodes <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><ul><li>如果没有指定context参数，或该参数为null或undefined，则默认为当前document。如果创建的DOM元素用于另一个文档，例如iframe，则应该指定该iframe的document对象</li></ul> <table><thead><tr><th>参数</th> <th>描述</th></tr></thead> <tbody><tr><td>data</td> <td>String类型 需要解析并转为DOM节点数组的HTML字符串</td></tr> <tr><td>context</td> <td>Element类型 指定在哪个Document中创建元素，默认为当前文档的document</td></tr> <tr><td>keepScripts</td> <td>Boolean类型 指定传入的HTML字符串中是否包含脚本，默认为false</td></tr></tbody></table> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>大多数jQuery API都允许HTML字符串在HTML中包含运行脚本。</p> <p>jQuery.parseHTML()不会运行解析的HTML中的脚本，除非你明确将参数keepScripts指定为true。</p> <p>不过，大多数环境仍然可以间接地执行脚本</p> <p>例如：通过属性。调用者应该避免 这样做，并清理或转义诸如URL、cookie等来源的任何不受信任的输入，从而预防出现这种情况。</p> <p>出于未来的兼容性考虑，当参数keepScripts被省略或为false时，调用者应该不依赖任何运行脚 本内容的能力。</p></div> <h3 id="parsejson"><a href="#parsejson" aria-hidden="true" class="header-anchor">#</a> parseJSON()</h3> <ul><li>转为json，目前用的是JSON.parse</li></ul> <h3 id="parsexml"><a href="#parsexml" aria-hidden="true" class="header-anchor">#</a> parseXML()</h3> <ul><li>将字符串解析为对应的XML文档</li> <li>该函数将使用浏览器内置的解析函数来创建一个有效的XML文档，该文档可以传入jQuery()函数来创建一个典型的jQuery对象，从而对其进行遍历或其他操作</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>parseXML<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> data <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> xml<span class="token punctuation">,</span> tmp<span class="token punctuation">;</span>
    <span class="token comment">// 对于非法参数一律返回null。如果参数data不是字符串，或者可以转换为false，则返回null</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>data <span class="token operator">||</span> <span class="token keyword">typeof</span> data <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Support: IE9</span>
    <span class="token comment">// 尝试用标准解析器DOMParser解析</span>
    <span class="token comment">// 在IE 9+中，如果解析失败，则会抛出异常。如果抛出异常，在catch块中设置xml为undefined，然后抛出一个更易读的异常</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        tmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DOMParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xml <span class="token operator">=</span> tmp<span class="token punctuation">.</span><span class="token function">parseFromString</span><span class="token punctuation">(</span> data <span class="token punctuation">,</span> <span class="token string">&quot;text/xml&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        xml <span class="token operator">=</span> undefined<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// 判断解析是否失败</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>xml <span class="token operator">||</span> xml<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> <span class="token string">&quot;parsererror&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        jQuery<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span> <span class="token string">&quot;Invalid XML: &quot;</span> <span class="token operator">+</span> data <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> xml<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ul><li><p>DOMParser在HTML5中标准化，可以将XML或HTML字符串解析为一个DOM文档。</p> <ul><li>解析时，首先要创建一个DOMParser对象</li> <li>然后使用它的方法parseFromString()来解析XML或HTML字符串。</li> <li>DOMParser.parseFromString( DOMString str, SupportedType type )
<ul><li>参数str：待解析的 XML 或 HTML 字符串</li> <li>参数type：支持的类型
<ul><li>&quot;text/html&quot;</li> <li>&quot;text/xml&quot;</li> <li>&quot;application/xml&quot;</li> <li>&quot;application/xhtml+xml&quot;</li> <li>&quot;image/svg+xml&quot;</li></ul></li> <li>返回一个解析后的新创建的文档对象</li></ul></li></ul></li> <li><p>如果解析失败，则抛出一个更易读的异常。如果满足以下条件之一，则认为解析失败：</p> <ul><li>在IE 9+中，通过标准XML解析器DOMParser解析失败，此时!xml为true</li> <li>在其他浏览器中，通过标准XML解析器DOMParser解析失败，此时xml.getElementsByTagName(&quot;parsererror&quot;).length可以转换为true。</li></ul></li> <li><p>如果解析成功，则返回解析结果</p></li></ul> <h3 id="noop"><a href="#noop" aria-hidden="true" class="header-anchor">#</a> noop()</h3> <ul><li>一个空函数</li> <li><strong>此方法不接受任何参数</strong></li> <li>当某些时候你需要传入函数参数，而且希望它什么也不做的时候，你可以使用该函数，也无需再新建一个空的函数</li> <li>比如当插件提供了一个可选的回调函数接口，那么如果调用的时候没有传递这个回调函数，就用$.noop来代替执行。</li></ul> <h3 id="globaleval"><a href="#globaleval" aria-hidden="true" class="header-anchor">#</a> globalEval()</h3> <ul><li><strong>将变量转为全局变量</strong></li> <li>实际就是全局的eval()函数，并且做了兼容处理</li> <li>eval()函数
<ul><li>eval()函数执行一段JavaScript代码字符串，只有<strong>直接</strong>使用eval()本身，会在当前作用域中执行代码，否则相当于在全局作用域中执行代码。
<ul><li>直接使用eval()本身，相当于在当前作用域执行代码</li> <li>通过<strong>window.eval</strong>()，代码将在<strong>全局作用域</strong>执行</li> <li>将eval赋值给其他变量，<strong>间接使用</strong>，代码将在<strong>全局作用域</strong>执行</li> <li>eval()函数在严格模式下：
<ul><li>eval中的代码不能创建eval所在作用域下的变量、函数。</li> <li>而是为eval单独创建一个作用域，即严格模式创设了第三种作用域：<strong>eval作用域</strong>，并在eval返回时丢弃</li> <li>严格模式下，间接使用：没有eval作用域，仍是<strong>全局作用域</strong>执行</li> <li>在严格模式下，通过window调用，没有eval作用域</li></ul></li></ul></li></ul></li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>严格模式只对直接使用eval()有效，对间接使用的eval()无效</strong></p> <p><strong>jQuery中的工具方法globalEval()，无论在什么条件下，都在全局作用域中执行代码</strong></p> <p><strong>其实就是：将变量转为全局变量</strong></p></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Evaluates a script in a global context</span>
globalEval<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> code <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> script<span class="token punctuation">,</span>
        indirect <span class="token operator">=</span> eval<span class="token punctuation">;</span>
    <span class="token comment">// eval既是关键字，又是window下的属性。直接写eval(code)，浏览器会当做js关键字使用，出错。所以赋值一下，就会把eval当做window的属性</span>

    <span class="token comment">//code必须为字符串形式</span>
    code <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span> code <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span> code <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 严格模式下，不能使用eval</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> code<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            script<span class="token punctuation">.</span>text <span class="token operator">=</span> code<span class="token punctuation">;</span>
            document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> script <span class="token punctuation">)</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> script <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Otherwise, avoid the DOM node creation, insertion</span>
            <span class="token comment">// and removal by using an indirect global eval</span>
            <span class="token function">indirect</span><span class="token punctuation">(</span> code <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="camelcase"><a href="#camelcase" aria-hidden="true" class="header-anchor">#</a> camelCase()</h3> <ul><li>转换连字符式的字符串为驼峰式</li> <li>用于CSS模块和数据缓存模块</li> <li>Camel-Case：骆驼命名法</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>rmsPrefix <span class="token operator">=</span> <span class="token regex">/^-ms-/</span><span class="token punctuation">,</span>
rdashAlpha <span class="token operator">=</span> <span class="token regex">/-([\da-z])/gi</span><span class="token punctuation">,</span>
<span class="token comment">// fcamelCase:把字符串转换为大写，返回一个新的字符串</span>
camelCase<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> string <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rmsPrefix<span class="token punctuation">,</span> <span class="token string">&quot;ms-&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rdashAlpha<span class="token punctuation">,</span> fcamelCase <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><p>正则rdashAlpha用于匹配字符串中连字符“-”和其后的第一个字母或数字。</p></li> <li><p>如果连字符“-”后是字母，则匹配部分会被替换为对应的大写字母；如果连字符“-”后是数字，则会删掉连字符“-”，保留数字。</p></li> <li><p>正则rmsPrefix用于匹配字符串中前缀“-ms-”，匹配部分会被替换为“ms-”。</p></li> <li><p>这么做是因为在IE中，连字符式的样式名前缀“-ms-”对应小写的“ms”，而不是驼峰式的“Ms”。</p></li> <li><p>例如，“-ms-transform”对应“msTransform”而不是“MsTransform”。在IE以外的浏览器中，连字符式的样式名则可以正确地转换为驼峰式，例如，“-moz-transform”对应“MozTransform”。</p></li></ul> <h3 id="nodename"><a href="#nodename" aria-hidden="true" class="header-anchor">#</a> nodeName()</h3> <ul><li>用于检查DOM元素的节点名称（即属性nodeName）与指定的值是否相等</li> <li>检查时忽略大小写</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>nodeName<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> elem<span class="token punctuation">.</span>nodeName <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>前先检查elem.nodeName是否存在，可以防止传递进来的不是DOM元素，或者元素没有nodeName引起的报错问题</li> <li>把属性elem.nodeName和参数name都转换为大写再做比较，也就是忽略大小写比较
<ul><li>DOM元素的属性nodeName返回该元素的节点名称</li> <li>对于HTML文档，始终返回其大写形式</li> <li>对于XML文档，因为<strong>XML文档区分大小写</strong>，所以返回值与源代码中的形式一致。</li></ul></li></ul> <h3 id="each-2"><a href="#each-2" aria-hidden="true" class="header-anchor">#</a> each()</h3> <ul><li>jQuery的工具方法，其实就是静态方法，本方法是$.each()
<ul><li>注意jquery的<code>$().each</code>,<code>$.each</code>的区别</li> <li><code>$().each</code> <ul><li>该方法用于遍历jQuery对象</li> <li>本质调用的是<code>$.each</code></li> <li>each() 方法规定为每个匹配元素规定运行的函数。</li> <li>回调函数中的this不是jQuery对象 而是Dom对象</li></ul></li> <li><code>$.each</code> <ul><li>该方法用于遍历任何集合，包括数组和对象</li> <li>对于jQuery对象，只是把each方法简单的进行了委托
<ul><li>把jQuery对象作为第一个参数传递给jQuery的each方法</li> <li>也就是jQuery提供的each方法是对参数一提供的对象的中所有的子元素逐一进行方法调用</li></ul></li> <li>jQuery里的each方法是通过js里的call方法来实现的
<ul><li>call：改变上下文this指针</li></ul></li></ul></li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>each<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> obj<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> args <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> value<span class="token punctuation">,</span>
        i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        length <span class="token operator">=</span> obj<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        <span class="token comment">// 是否是类数组或数组，json（不包括jQuery这种对象形式）返回false</span>
        isArray <span class="token operator">=</span> <span class="token function">isArraylike</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span> args <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//jQuery内部使用</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> isArray <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果是类数组</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                value <span class="token operator">=</span> callback<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> obj<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> args <span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                value <span class="token operator">=</span> callback<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> obj<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> args <span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// A special, fast, case for the most common use of each</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// 我们在外面调用时，执行的代码</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> isArray <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果是类数组</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                value <span class="token operator">=</span> callback<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> obj<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> obj<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// 回调方法返回false就停止循环</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>	<span class="token comment">// //如果是json对象</span>
                value <span class="token operator">=</span> callback<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> obj<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> obj<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><ul><li>第三个参数args用于内部调用</li> <li>此方法就是来遍历数组的，然后取数组中的值进行显示。</li> <li>不能改变原数组arr，跟map一样，但是map返回新数组，而each返回原数组。</li> <li>这里跟原生的forEach和map的回调方法参数不一样，原生的回调方法中，第三个参数是原数组，可以在回调方法中改变原数组的值。但jQuery的回调方法，不会传第三个参数。</li></ul> <h3 id="trim"><a href="#trim" aria-hidden="true" class="header-anchor">#</a> trim()</h3> <ul><li>用于去除字符串两端的空白字符</li> <li>$.trim()函数会移除字符串开始和末尾处的所有换行符，空格(包括连续的空格)和制表符。如果这些空白字符在字符串中间时，它们将被保留，不会被移除。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>core_version <span class="token operator">=</span> <span class="token string">&quot;2.0.3&quot;</span><span class="token punctuation">,</span>
core_trim <span class="token operator">=</span> core_version<span class="token punctuation">.</span>trim<span class="token punctuation">,</span>
trim<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> text <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> text <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">:</span> core_trim<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> text <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>core_version是字符串</li> <li>core_trim：是字符串的trim方法</li></ul> <h3 id="makearray"><a href="#makearray" aria-hidden="true" class="header-anchor">#</a> makeArray()</h3> <ul><li>将一个类似数组的对象转换为真正的数组对象</li> <li>类数组对象具有许多数组的属性(例如length属性，[]数组访问运算符等)，不过它毕竟不是数组，缺少从数组的原型对象上继承下来的内置方法(例如：pop()、reverse()等)。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// results is for internal usage only</span>
<span class="token comment">// 第二个参数是给内部用的</span>
makeArray<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> arr<span class="token punctuation">,</span> results <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果传入了results，就给ret，如果么有就付给一个新建的数组</span>
    <span class="token keyword">var</span> ret <span class="token operator">=</span> results <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token comment">// 过滤参数array是null、undefined的情况</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> arr <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// isArrayLike 判断是否为数组，类数组</span>
        <span class="token comment">// 后面有isArrayLike分析</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">isArraylike</span><span class="token punctuation">(</span> <span class="token function">Object</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 调用方法jQuery.merge()把该参数合并到返回值ret中。</span>
            <span class="token comment">// 如果arr为数字6789，这里会返回false，因为number不是类数组。</span>
            <span class="token comment">// 但是如果是字符串&quot;hello&quot;，Object会把它转成具有length的json对象，所以就返回true。</span>
            <span class="token comment">// 因为字符串是有length属性的。</span>
            jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span> ret<span class="token punctuation">,</span>
                         <span class="token keyword">typeof</span> arr <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">?</span>
                         <span class="token punctuation">[</span> arr <span class="token punctuation">]</span> <span class="token punctuation">:</span> arr
                        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 插入元素时执行的是push.call( ret,array )，而不是ret.push( array )</span>
            <span class="token comment">// 这是因为返回值ret不一定是真正的数组。</span>
            <span class="token comment">// 如果只传入参数array，则返回值ret是真正的数组；</span>
            <span class="token comment">// 如果还传入了第二个参数result，则返回值ret的类型取决于该参数的类型</span>
            core_push<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> ret<span class="token punctuation">,</span> arr <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// 返回ret</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="inarray"><a href="#inarray" aria-hidden="true" class="header-anchor">#</a> inArray()</h3> <ul><li>元素是否在arr数组中，从i位置开始找</li> <li>找到就返回其下标，未找到则返回-1。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>inArray<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> arr<span class="token punctuation">,</span> i <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> arr <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">:</span> core_indexOf<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> arr<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="merge"><a href="#merge" aria-hidden="true" class="header-anchor">#</a> merge()</h3> <ul><li>合并两个数组内容到第一个数组</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>merge<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> first<span class="token punctuation">,</span> second <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> l <span class="token operator">=</span> second<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        i <span class="token operator">=</span> first<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment">// 如果参数second的属性length是数值类型，则把该参数当作数组处理，把其中的所有元素都添加到参数first中</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> l <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            first<span class="token punctuation">[</span> i<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token operator">=</span> second<span class="token punctuation">[</span> j <span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 把该参数当作含有连续整型（或可以转换为整型）属性的对象，</span>
        <span class="token comment">// 例如，{ 0:'a', 1:'b'}，把其中的非undefined元素逐个插入参数first中。</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span> second<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!==</span> undefined <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            first<span class="token punctuation">[</span> i<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token operator">=</span> second<span class="token punctuation">[</span> j<span class="token operator">++</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// 修正first.length。因为参数first可能不是真正的数组，所以需要手动维护属性length的值。</span>
    first<span class="token punctuation">.</span>length <span class="token operator">=</span> i<span class="token punctuation">;</span>

    <span class="token keyword">return</span> first<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ul><li>参数first：
<ul><li>数组或类数组对象，必须含有整型（或可以转换为整型）属性length，</li> <li>第二个数组second中的元素会被合并到该参数中。</li></ul></li> <li>参数second：
<ul><li>数组、类数组对象或任何含有连续整型属性的对象</li> <li>其中的元素会被合并到第一个参数first中。</li></ul></li></ul> <h3 id="grep"><a href="#grep" aria-hidden="true" class="header-anchor">#</a> grep()</h3> <ul><li>用指定的函数过滤数组中的元素，并返回过滤后的数组</li> <li><strong>源数组不会受到影响，过滤结果只反映在返回的结果数组中</strong></li></ul> <table><thead><tr><th>参数</th> <th>描述</th></tr></thead> <tbody><tr><td>array</td> <td>Array类型 将被过滤的数组。</td></tr> <tr><td>function</td> <td>Function类型 指定的过滤函数。<br>grep()方法为function提供了两个参数：<br>其一为当前迭代的数组元素，<br>其二是当前迭代元素在数组中的索引。</td></tr> <tr><td>invert</td> <td>可选。 <br>Boolean类型 默认值为false，指定是否反转过滤结果。<br>如果参数invert为true，则结果数组将包含function返回false的所有元素。</td></tr></tbody></table> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>grep<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> elems<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> inv <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> retVal<span class="token punctuation">,</span>
        ret <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        length <span class="token operator">=</span> elems<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token comment">// 转换成true or false，不传的时候是undefined，就会变成fase</span>
    inv <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>inv<span class="token punctuation">;</span>

    <span class="token comment">// 遍历数组elems，为每个元素执行过滤函数。</span>
    <span class="token comment">// 如果参数inv为true，把执行结果为false的元素放入结果数组ret；</span>
    <span class="token comment">// 如果inv为false，则把执行结果为true的元素放入结果数组ret。</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        retVal <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token function">callback</span><span class="token punctuation">(</span> elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 转换成true or false</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> inv <span class="token operator">!==</span> retVal <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ret<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// 返回结果数组ret</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ul><li>如果参数invert未传入或是false，元素只有在过滤函数返回true，</li> <li>或者返回值可以转换为true时，才会被保存在最终的结果数组中，即返回一个满足回调函数的元素数组；</li> <li>如果参数invert是true，则情况正好相反，返回的是一个不满足回调函数的元素数组</li></ul> <h3 id="map"><a href="#map" aria-hidden="true" class="header-anchor">#</a> map()</h3> <ul><li>用于使用指定函数处理数组中的每个元素(或对象的每个属性)，并将处理结果封装为新的数组返回</li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <ul><li><p>在jQuery 1.6 之前，该函数只支持遍历数组；从 1.6 开始，该函数也支持遍历对象。</p></li> <li><p>map()还会为函数传入两个参数：其一是当前迭代的元素或属性值，其二是当前迭代项的数组索引或对象属性名。</p></li> <li><p>该函数返回值将作为结果数组中的一个元素，如果返回值为null或undefined，则不会被添加到结果数组中。</p></li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 支持普通json,数组，类数组，特殊json（jQuery对象形式）</span>
<span class="token comment">// 第三个参数内部调用</span>
map<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> elems<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> arg <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> value<span class="token punctuation">,</span>
        i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        length <span class="token operator">=</span> elems<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        isArray <span class="token operator">=</span> <span class="token function">isArraylike</span><span class="token punctuation">(</span> elems <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// //数组和类数组都可以，jQuery对象形式也可以</span>
        ret <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span> isArray <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            value <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">(</span> elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> arg <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// //回调返回的值不是null或者undefined，就存入新数组中</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                ret<span class="token punctuation">[</span> ret<span class="token punctuation">.</span>length <span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 
    <span class="token comment">// 普通json就执行这里，比如：{name:&quot;zhangsan&quot;,age:18}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> elems <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            value <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">(</span> elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> arg <span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                ret<span class="token punctuation">[</span> ret<span class="token punctuation">.</span>length <span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// core_deletedIds = [],</span>
	<span class="token comment">// core_concat = core_deletedIds.concat,</span>
    <span class="token comment">// 以防回调方法返回的是数组形式，那么就会出现复合数组，比如:ret = [[1],[2],[3]],通过concat([1],[2],[3])，合并，返回[1,2,3]</span>
    <span class="token keyword">return</span> core_concat<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ret <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="guid"><a href="#guid" aria-hidden="true" class="header-anchor">#</a> guid</h3> <ul><li>属性jQuery.guid是一个全局计数器，用于jQuery事件模块和缓存模块</li> <li>在jQuery事件模块中，每个事件监听函数会被设置一个guid属性，用来唯一标识这个函数；</li> <li>在缓存模块中，通过在DOM元素上附加一个唯一标识，来关联该元素和该元素对应的缓存。</li> <li>属性jQuery.guid初始值为1，使用时自增1</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>， 
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#input1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>show<span class="token punctuation">)</span>，
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#input2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#input1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>这里的show方法是事件方法，所以通过off取消掉事件绑定，可以很容易找到事件方法show。</li> <li>但是如果把 <code>$(&quot;#input1&quot;).click(show)</code>改成 <code>$(&quot;#input1&quot;).click($.proxy(show,window))</code>，这时show不是事件方法，而是普通方法，那么通过off取消的时候，它是怎么找到这个普通方法show的，其实就是通过guid，因为guid会累加，所以是唯一的，因此可以找到。</li></ul> <h3 id="proxy"><a href="#proxy" aria-hidden="true" class="header-anchor">#</a> proxy()</h3> <ul><li><p>改变方法（函数）执行的this指向</p></li> <li><p>方法proxy接受一个函数，返回一个新函数，新函数总是持有特定的上下文。</p></li> <li><p>proxy两种调用形式：</p> <ul><li>jQuery.proxy(  function, context )
<ul><li>参数function是将被改变上下文的函数，参数context是上下文。</li> <li>指定参数function的上下文始终为参数content。</li></ul></li> <li>jQuery.proxy( context, name )
<ul><li>参数name是参数context的属性。</li> <li>指定参数name对应的函数的上下文始终为参数context。</li></ul></li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>proxy<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> fn<span class="token punctuation">,</span> context <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> tmp<span class="token punctuation">,</span> args<span class="token punctuation">,</span> proxy<span class="token punctuation">;</span>
	<span class="token comment">// 修正参数fn和context。</span>
    <span class="token comment">// 如果第二个参数是字符串，说明参数格式是jQuery.proxy( context, name )，修正为jQuery.proxy( fn, context )。</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> context <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        tmp <span class="token operator">=</span> fn<span class="token punctuation">[</span> context <span class="token punctuation">]</span><span class="token punctuation">;</span>
        context <span class="token operator">=</span> fn<span class="token punctuation">;</span>
        fn <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// 如果参数fn不是函数，则返回undefined</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> fn <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> undefined<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// 收集多余参数</span>
    <span class="token comment">// 说明：如果调用jQuery.proxy()时，除了传入参数fn、context之外，还传入了其他参数，那么在调用函数fn时，这些多余的参数将会优先传入。</span>
    <span class="token comment">// 这里借用数组方法slice()来获取参数对象arguments中fn、context后的其他参数。</span>
    <span class="token comment">// core_deletedIds = [],</span>
    <span class="token comment">// core_slice = core_deletedIds.slice,</span>
    args <span class="token operator">=</span> core_slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> arguments<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 创建一个代理函数，在代理函数中调用原始函数fn，调用时通过方法apply()指定上下文。</span>
    <span class="token comment">// 代理函数通过闭包机制引用context、args、slice</span>
    <span class="token function-variable function">proxy</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> fn<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> context <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span> core_slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> arguments <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    
	<span class="token comment">// 为代理函数设置与原始函数相同的唯一标识guid。如果原始函数没有，则重新分配一个。</span>
    proxy<span class="token punctuation">.</span>guid <span class="token operator">=</span> fn<span class="token punctuation">.</span>guid <span class="token operator">=</span> fn<span class="token punctuation">.</span>guid <span class="token operator">||</span> jQuery<span class="token punctuation">.</span>guid<span class="token operator">++</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> proxy<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <ul><li><p>相同的唯一标识将代理函数和原始函数关联了起来。</p></li> <li><p>例如，在jQuery事件系统中，如果为DOM元素绑定了事件监听函数的代理函数，当移除事件时，即使传入的是原始函数，jQuery也能通过唯一标识guid移除正确的函数。</p></li></ul></div> <h3 id="access"><a href="#access" aria-hidden="true" class="header-anchor">#</a> access()</h3> <ul><li><p>可以为集合中的元素设置一个或多个属性值，或者读取第一个元素的属性值。</p></li> <li><p>如果设置的属性值是函数，并且参数exec是true时，还会执行函数并取其返回值作为属性值。</p></li> <li><p>为.attr()、.prop()、.css()提供支持</p></li> <li><p>这三个方法在调用jQuery.access()时，参数exec为true</p></li> <li><p>参数fn是同时支持读取和设置属性的函数（例jQuery.attr()、jQuery.prop()）</p></li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <ul><li><p>根据参数的个数和参数的类型不同，去区分</p></li> <li><p><code>$().css(),</code> 和<code>$().attr()</code>和<code>$().prop()</code>，通过参数的不同，实现get/set。</p></li> <li><p><code>$(&quot;div&quot;).css(&quot;width&quot;)</code>，获得第一个div元素的width，<code>$(&quot;div&quot;).css(&quot;width&quot;,100)</code>设置所有的div元素的width。</p></li> <li><p><code>$(&quot;div&quot;).css({width:100,height:200})</code>，也是设置所有的div元素，尽管只有一个参数，但是类型不一样。JQuery中有很多这种方法，所以统一用access实现。</p></li></ul></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>access<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> elems<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> chainable<span class="token punctuation">,</span> emptyGet<span class="token punctuation">,</span> raw <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// elems：元素集合，通常是jQuery对象，操作的元素，可能是一个集合</span>
    <span class="token comment">// fn是一个回调函数（有区别的在回调函数中处理，比如，css设置样式，attr设置属性）</span>
    <span class="token comment">// key和value就是属性名和属性值</span>
    <span class="token comment">// chainable为true，设置，为false就获取, 是否可以链式调用，如果是get动作，为false，如果是set动作，为true</span>
    <span class="token comment">// emptyGet：该参数一般是不给的，当没有元素时返回undefined, 如果jQuery没有选中到元素的返回值</span>
    <span class="token comment">// raw : 字符串为真，函数为假</span>
    <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        length <span class="token operator">=</span> elems<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        bulk <span class="token operator">=</span> key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

   	<span class="token comment">// 如果参数key是对象，表示要设置多个属性，则遍历参数key，为每个属性递归调用方法jQuery.access()，遍历完后返回元素集合elems。</span>
    <span class="token comment">// 处理这种类型$(&quot;div&quot;).css({width:100,height:200})</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> key <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        chainable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> key <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            jQuery<span class="token punctuation">.</span><span class="token function">access</span><span class="token punctuation">(</span> elems<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> i<span class="token punctuation">,</span> key<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> emptyGet<span class="token punctuation">,</span> raw <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 
    <span class="token comment">// 如果参数value不是undefined，表示要设置单个属性，则遍历元素集合elems，为每个元素调用回调函数fn，遍历完后返回元素集合elems。如果参数exec为true，并且参数value是函数，则执行参数value，并取其返回值作为属性值。</span>
    <span class="token comment">// 处理这种$(&quot;div&quot;).css(&quot;width&quot;,100)</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">!==</span> undefined <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        chainable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">// 表示可以链式调用</span>
		<span class="token comment">// 如果value不是function，设置raw为true</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            raw <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
		<span class="token comment">// 判断key值是否为null或者undefined，key若为空值</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> bulk <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span> raw <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果value是字符串（数字）</span>
                fn<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elems<span class="token punctuation">,</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 调用回调方法</span>
                fn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">// 把回调方法赋为空</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 如果是函数，这里面的不用深入理解</span>
            <span class="token keyword">else</span> <span class="token punctuation">{</span> 
                bulk <span class="token operator">=</span> fn<span class="token punctuation">;</span>
                <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> bulk<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">,</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 如果没有key值，并且value是字符串（数字），这里就为null,不会执行</span>
        <span class="token comment">// 如果fn存在，掉调用每一个元素，无论key是否有值，都会走到这个判断，执行set动作</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> fn <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">fn</span><span class="token punctuation">(</span> elems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> raw <span class="token operator">?</span> value <span class="token punctuation">:</span> value<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token function">fn</span><span class="token punctuation">(</span> elems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> key <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> chainable <span class="token operator">?</span> <span class="token comment">// 如果chainable为true，说明是个set方法，就返回elems,否则说明是get方法</span>
        elems <span class="token punctuation">:</span> <span class="token comment">// //设置时，chainable为true，直接返回元素，进行后续的链式操作</span>

    <span class="token comment">// 1.如果bulk是个true，说明没有key值，调用fn，将elems传进去</span>
	<span class="token comment">// 2.如果bulk为false，说明key有值哦，然后判断元素的长度是否大于0</span>
    <span class="token comment">// 2.1 如果大于0，调用fn，传入elems[0]和key，完成get</span>
    <span class="token comment">// 2.2 如果为0，说明传参有问题，返回指定的空值emptyGet</span>
    bulk <span class="token operator">?</span>
        fn<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elems <span class="token punctuation">)</span> <span class="token punctuation">:</span> 
    length <span class="token operator">?</span> <span class="token function">fn</span><span class="token punctuation">(</span> elems<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> key <span class="token punctuation">)</span> <span class="token punctuation">:</span> emptyGet<span class="token punctuation">;</span> <span class="token comment">// 有key值时，判断元素有没有元素，有的话就获取第一个元素的key值（属性名的值），没有元素的话，就返回emptyGet。</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><ul><li>首先判断key值是不是一个object，如果是，遍历key，递归调用jQuery.access，并将是否可以链式调用的标志位设置为true</li> <li>判断value值是否已经定义，如果已经定义，说明是个set操作
<ul><li>set操作的是可链式调用的</li> <li>如果value不是function，设置raw为true</li> <li>判断key值是否为null或者undefined，key若为空值
<ul><li>如果value不是个函数，或者强制赋值raw为true，那么调用fn，可能是以下调用：$('#box').attr(null,{abc:'def',a:'1'})</li> <li>如果value是个函数，将fn包装之，改变原来fn的作用域和参数</li></ul></li> <li>如果fn存在，遍历jQuery内部元素，分别执行set操作</li></ul></li> <li>首先判断是否为set方法，如果是，返回 elems，如果不是执行get操作（如果jQuery内部length为0，返回指定的默认空值）</li></ul> <h3 id="now"><a href="#now" aria-hidden="true" class="header-anchor">#</a> now()</h3> <ul><li>当前时间距离1970年的毫秒数</li> <li>相当于(new Date()).getTime()</li></ul> <h3 id="swap"><a href="#swap" aria-hidden="true" class="header-anchor">#</a> swap</h3> <ul><li>css交换（内部）</li> <li>原生js无法获取display为none的属性值，而jQuery却可以获取，原因就是在内部使用了swap方法。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;div1&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width:100px;height:100px;display:none;&quot;</span><span class="token operator">&gt;</span>ddd<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>　

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetWidth取到的是<span class="token number">0</span>，因为它是display<span class="token punctuation">:</span>none，不存在<span class="token constant">DOM</span>树中。

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span>取到的是<span class="token number">100</span>，为啥jQuery可以。因为jQuery会对display<span class="token punctuation">:</span>none的元素进行处理，变成<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;div1&quot;</span>style<span class="token operator">=</span><span class="token string">&quot;width:100px;height:100px;display:block;visibility:hidden;position:absolute&quot;</span><span class="token operator">&gt;</span>ddd<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token function">这里就可以通过$</span><span class="token punctuation">(</span><span class="token string">&quot;#div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>offsetWidth取到<span class="token number">100</span>了，然后再把新添加的样式去掉。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>swap<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> options<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> args <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ret<span class="token punctuation">,</span> name<span class="token punctuation">,</span>
        old <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">//保存老样式，插入新样式。</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span> name <span class="token keyword">in</span> options <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        old<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
        elem<span class="token punctuation">.</span>style<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> options<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    ret <span class="token operator">=</span> callback<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> args <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 通过插入的新样式来获取元素的css值</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span> name <span class="token keyword">in</span> options <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 恢复老样式</span>
        elem<span class="token punctuation">.</span>style<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> old<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="jquery-ready-promise"><a href="#jquery-ready-promise" aria-hidden="true" class="header-anchor">#</a> jQuery.ready.promise</h2> <ul><li>页面初始化中，用的较多的就是$(document).ready(function(){//代码});</li> <li>ready是在DOM的结构加载完后就触发,ready的内部是如何判断DOM的结构加载完的,就是当前的方法</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>jQuery<span class="token punctuation">.</span>ready<span class="token punctuation">.</span><span class="token function-variable function">promise</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// readyList为预先申明的变量，未赋值</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>readyList <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 函数执行后申明为jQuery.Deferred()</span>
        <span class="token comment">// 最后把延迟对象返回出去，满足条件后触发fn函数</span>
		readyList <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">Deferred</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// if()else（），监听dom加载，最终调用的都是jQuery.ready方法（静态方法）</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> document<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token string">&quot;complete&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">setTimeout</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>ready <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token comment">// 当浏览器是基于标准浏览器时，会在加载完DOM结构后触发“DOMContentLoaded”事件，jquery内部就用此事件作为ready的触发源</span>
            <span class="token comment">// 当浏览器是IE浏览器时，因为IE浏览器（蛋疼并强大着）不支持“DOMContentLoaded”事件，所以只能另谋它法，这里没有判断，估计是ie678不支持的原因之一</span>
			document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span> <span class="token string">&quot;DOMContentLoaded&quot;</span><span class="token punctuation">,</span> completed<span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span> <span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> completed<span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> readyList<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="jquery-each"><a href="#jquery-each" aria-hidden="true" class="header-anchor">#</a> jQuery.each</h2> <ul><li>填充class2type映射表</li> <li>生成一个class2type对象</li> <li>type方法中用到的</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>class2type <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;Boolean&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Number&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;String&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Function&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Array&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;array&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Date&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;date&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;RegExp&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;regexp&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Object&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;Error&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="isarraylike"><a href="#isarraylike" aria-hidden="true" class="header-anchor">#</a> isArraylike</h2> <ul><li>判断是否是数组，类数组，带length的json，是的话就返回真</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isArraylike</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> length <span class="token operator">=</span> obj<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
		type <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 担心window对象有length属性</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isWindow</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 如果有nodeType的话并且还有长度，那么就是类数组的形式，返回true。</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> obj<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 如果还不满足则判断是否为数组</span>
    <span class="token comment">// 不能是函数，因为函数也可能有length属性</span>
    <span class="token comment">// typeof length === &quot;number&quot; &amp;&amp; length &gt; 0 &amp;&amp; ( length - 1 ) in obj )处理{0:&quot;a&quot;,1:&quot;b&quot;,length:2}这种情况。</span>
    <span class="token comment">// length === 0处理arguments为空的时候，就是不传入函数任何数据，这时函数中的arguments的length为0，但是是类数组。</span>
    <span class="token comment">// document.getElementsByTagName(&quot;div&quot;)和body.childNodes也是类数组。</span>
	<span class="token keyword">return</span> type <span class="token operator">===</span> <span class="token string">&quot;array&quot;</span> <span class="token operator">||</span> type <span class="token operator">!==</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">&amp;&amp;</span>
		<span class="token punctuation">(</span> length <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span>
		<span class="token keyword">typeof</span> length <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">&amp;&amp;</span> length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> length <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token keyword">in</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="sizzle选择器（877行-2856行）"><a href="#sizzle选择器（877行-2856行）" aria-hidden="true" class="header-anchor">#</a> Sizzle选择器（877行-2856行）</h2> <p>sizzle是一个纯粹的javascript css选择器引擎，可以轻松的插入主机库</p> <h3 id="为什么有sizzle"><a href="#为什么有sizzle" aria-hidden="true" class="header-anchor">#</a> 为什么有Sizzle</h3> <ul><li>其实对现代浏览器来说，document.querySelectorAll就可以解决一切。</li> <li>比如zeptoJs就是用querySelectorAll进行选择器解析的，因为移动端所有浏览器都支撑querySelectorAll。</li> <li>但是对于低版本的IE(&lt;=8)浏览器，不仅不支持querySelectorAll，连getElementById都有bug，因此自己用浏览器原生API解析选择器简直难上加难。好在sizzle引擎帮我们处理了一切。</li> <li>参考资料：http://foio.github.io/sizzle-research/</li></ul> <h3 id="sizzle特点"><a href="#sizzle特点" aria-hidden="true" class="header-anchor">#</a> Sizzle特点</h3> <ul><li>完全独立</li> <li>最常用选择器的竞争性能</li> <li>大小只有4KB</li> <li>高拓展性和简单易用的api</li> <li>有最佳性能的事件委托</li></ul> <h3 id="sizzle选择符的实现"><a href="#sizzle选择符的实现" aria-hidden="true" class="header-anchor">#</a> Sizzle选择符的实现</h3> <ul><li>在把选择符表达式传递给$()函数的时候，jquery的sizzle引擎会解析这个表达式，并确定如何收集该表达式。</li> <li>在最本质的层次上，sizzle会应用浏览器支持的最高效的原生的DOM方法取得nodeList，这个节点列表是一个包含DOM元素的类似数组的对象，jquery会把这个对象转换成真正的数组。</li> <li>如果没有现成的DOM方法可以拿来处理这个选择符表达式，sizzle就会使用document.getElementsByTagName(&quot;*&quot;);来去文档中的全部元素，然后在遍历并测试每一个元素。</li></ul> <h3 id="sizzle选择符的速度"><a href="#sizzle选择符的速度" aria-hidden="true" class="header-anchor">#</a> Sizzle选择符的速度</h3> <ul><li>如果选择器可以使用原生的js选择函数那一定比jquery的速度要快。</li> <li>浏览器是有检测代码消耗时间的功能的，chrome的是在timeline里面</li></ul> <h2 id="严格模式"><a href="#严格模式" aria-hidden="true" class="header-anchor">#</a> 严格模式</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//&quot;use strict&quot; 指令只允许出现在脚本或函数的开头。</span>
use strict
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>JavaScript 严格模式（strict mode）即在严格的条件下运行</li> <li>&quot;use strict&quot; 指令在 JavaScript 1.8.5 (ECMAScript5) 中新增</li> <li>它不是一条语句，但是是一个字面量表达式，在 JavaScript 旧版本中会被忽略</li> <li>&quot;use strict&quot; 的目的是指定代码在严格条件下执行</li> <li>支持严格模式的浏览器: Internet Explorer 10 +、 Firefox 4+ Chrome 13+、 Safari 5.1+、 Opera 12+。</li></ul> <h3 id="为什么要使用严格模式"><a href="#为什么要使用严格模式" aria-hidden="true" class="header-anchor">#</a> 为什么要使用严格模式</h3> <ul><li>消除代码运行的一些不安全之处，保证代码运行的安全</li> <li>提高编译器效率，增加运行速度</li> <li>为未来新版本的Javascript做好铺垫</li> <li>&quot;严格模式&quot;体现了Javascript更合理、更安全、更严谨的发展方向，包括IE 10在内的主流浏览器，都已经支持它，许多大项目已经开始全面拥抱它。</li> <li>同样的代码，在&quot;严格模式&quot;中，可能会有不一样的运行结果；一些在&quot;正常模式&quot;下可以运行的语句，在&quot;严格模式&quot;下将不能运行。掌握这些内容，有助于更细致深入地理解Javascript，让你变成一个更好的程序员。</li></ul> <h3 id="严格模式的限制"><a href="#严格模式的限制" aria-hidden="true" class="header-anchor">#</a> 严格模式的限制</h3> <ul><li>不允许使用未声明的变量：报错 (变量 未定义)，对象也是一个变量，未声明的对象也不行</li> <li>不允许删除变量或对象：delete 变量 会报错</li> <li>不允许删除函数：delete 函数 会报错</li> <li>不允许变量重名</li> <li>不允许使用八进制</li> <li>不允许使用转义字符</li> <li>不允许对只读属性赋值</li> <li>不允许对一个使用getter方法读取的属性进行赋值</li> <li>不允许删除一个不允许删除的属性</li> <li>变量名不能使用 &quot;eval&quot; 和&quot;arguments&quot; 字符串</li> <li>由于一些安全原因，在作用域 eval() 创建的变量不能被调用</li> <li>禁止this关键字指向全局对象：因此，使用构造函数时，如果忘了加new，this不再指向全局对象，而是报错。</li></ul> <h3 id="严格模式保留关键字"><a href="#严格模式保留关键字" aria-hidden="true" class="header-anchor">#</a> 严格模式保留关键字</h3> <ul><li>implements</li> <li>interface</li> <li>let</li> <li>package</li> <li>private</li> <li>protected</li> <li>public</li> <li>static</li> <li>yield</li></ul> <h2 id="window对象"><a href="#window对象" aria-hidden="true" class="header-anchor">#</a> window对象</h2> <p>window：代表浏览器中一个打开的窗口</p> <h3 id="对象属性"><a href="#对象属性" aria-hidden="true" class="header-anchor">#</a> 对象属性</h3> <ul><li>window.self 引用本窗口window==window.self</li> <li>window.name 为窗口名字</li> <li>window.defaultStatus 窗户状态栏信息</li> <li>window.location URL地址，设置该属性可打开新的页面</li></ul> <h3 id="对象方法"><a href="#对象方法" aria-hidden="true" class="header-anchor">#</a> 对象方法</h3> <ul><li>window.alert(&quot;text&quot;) 提示信息会话框</li> <li>window.confirm(&quot;text&quot;) 确认会话框</li> <li>window.prompt(&quot;text&quot;) 键盘输入会话框</li> <li>window.setIntervel(func, time) 每隔指定时间(毫秒)执行一次操作</li> <li>window.clearInterval() 清除时间间隔</li> <li>window.setTimeout(action,time) 等待指定时间(毫秒)后再执行操作</li> <li>window.open() 打开新的窗口</li> <li>window.close() 关闭窗口</li></ul> <h3 id="成员对象"><a href="#成员对象" aria-hidden="true" class="header-anchor">#</a> 成员对象</h3> <ul><li>window.event</li> <li>window.document</li> <li>Window.history
<ul><li>window.history.length 浏览过的页面数</li> <li>window.history.back() 后退</li> <li>window.history.forward() 前进</li> <li>window.history.<a href="http://lib.csdn.net/base/go" target="_blank" rel="noopener noreferrer">go<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>(i) 前进或后退i个页面（i&gt;0前进，i&lt;0后退）</li></ul></li> <li>Window.screen
<ul><li>window.screen.width 屏幕宽度</li> <li>window.screen.height 屏幕高度</li> <li>window.screen.colorDepth 屏幕色深</li> <li>window.screen.availWidth 屏幕可用宽度</li> <li>window.screen.availHeight 屏幕可用高度（除去任务栏的高度）</li></ul></li> <li>Window.navigator
<ul><li>window.navigator.appCodeName 浏览器代码名</li> <li>window.navigator.appName 浏览器名</li> <li>window.navigator.platform 运行浏览器的操作系统平台</li> <li>window.navigator.appVersion 浏览器的平台和版本</li> <li>window.navigator.userAgent 由客户机发送服务器的user-agent 头部的值</li> <li>window.navigator.cookieEnabled 浏览器是否启用cookie</li> <li>window.navigator.appMinorVersion 浏览器补丁版本</li> <li>window.navigator.cpuClass cpu类型</li> <li>Window.navigator.plugins 插件标识</li> <li>window.navigator.userProfile 用户的个人信息</li> <li>window.navigator.systemLanguage 客户体系语言</li> <li>window.navigator.userLanguage 用户语言</li> <li>window.navigator.onLine 用户是否在线</li> <li>window.navigator.mimeTypes MIME类型（数组）</li></ul></li></ul> <h2 id="document对象"><a href="#document对象" aria-hidden="true" class="header-anchor">#</a> document对象</h2> <p>代表整个HTML 文档，可用来访问页面中的所有元素</p> <h3 id="对象属性-2"><a href="#对象属性-2" aria-hidden="true" class="header-anchor">#</a> 对象属性</h3> <ul><li>document.title                 文档标题，等价于HTML的title标签</li> <li>document.bgColor            页面背景色</li> <li>document.fgColor              前景色(文本颜色)</li> <li>document.linkColor           未点击过的链接颜色</li> <li>document.alinkColor            激活链接(焦点在此链接上)的颜色</li> <li>document.vlinkColor            已点击过的链接颜色</li> <li>document.URL                   在同一窗口打开另一网页</li> <li>document.fileCreatedDate       文件建立日期，只读属性</li> <li>document.fileModifiedDate      文件修改日期，只读属性</li> <li>document.fileSize              大小，只读属性</li> <li>document.cookie                设置和读出cookie</li> <li>document.charset               字符集</li></ul> <h3 id="对象方法-2"><a href="#对象方法-2" aria-hidden="true" class="header-anchor">#</a> 对象方法</h3> <ul><li>document.write()                      动态向页面写入内容</li> <li>document.createElement(tag) 创建指定标签的元素</li> <li>document.getElementById(id)  获得指定id值的元素</li> <li>document.getElementsByName(name)      获得指定Name值的元素</li></ul> <h3 id="body对象"><a href="#body对象" aria-hidden="true" class="header-anchor">#</a> body对象</h3> <ul><li>document.body                 文档主体开始和结束，等价于body标签</li> <li>document.body.bgColor          背景颜色</li> <li>document.body.link             未点击过的链接颜色</li> <li>document.body.alink          激活链接(焦点在此链接上)的颜色</li> <li>document.body.vlink      已点击过的链接颜色</li> <li>document.body.text        文本色</li> <li>document.body.innerText      body和/body之间的文本</li> <li>document.body.innerHTML  body和/body之间的HTML代码</li> <li>document.body.topMargin 页面上边距</li> <li>document.body.leftMargin      页面左边距</li> <li>document.body.rightMargin   页面右边距</li> <li>document.body.bottomMargin  页面下边距</li> <li>document.body.background    背景</li> <li>document.body.appendChild(oTag) 添加DOM对象</li> <li>document.body.onclick=&quot;func()&quot;              鼠标指针单击对象是触发</li> <li>document.body.onmouseover=&quot;func()&quot;    鼠标指针移到对象时</li> <li>document.body.onmouseout=&quot;func()&quot;        鼠标指针移出对象时触发</li></ul> <h3 id="location位置对象"><a href="#location位置对象" aria-hidden="true" class="header-anchor">#</a> location位置对象</h3> <ul><li><p>document.location.hash  #号后的部分</p></li> <li><p>document.location.host        域名+端口号</p></li> <li><p>document.location.hostname     域名</p></li> <li><p>document.location.href          完整URL</p></li> <li><p>document.location.pathname 目录部分</p></li> <li><p>document.location.port     端口号</p></li> <li><p>document.location.protocol    网络协议</p></li> <li><p>document.location.search      ?号后的部分</p></li> <li><p>通过集合引用（以images集合为例，forms集合等类似）</p> <ul><li>document.images                img标签</li> <li>document.images.length          img标签的个数</li> <li>document.images[0]             第1个img标签</li> <li>document.images[i]          第i-1个img标签</li></ul></li></ul></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/188660660/edit/master/docs/fullstackfe/jQuery/jQuerySrc/README.md" target="_blank" rel="noopener noreferrer">帮助我改善这个页面</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/Blog/fullstackfe/jQuery/" class="prev router-link-active">
          核心内容
        </a></span> <span class="next"><a href="/Blog/fullstackfe/WebGCH/">
          核心内容
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/Blog/assets/js/app.9b1cff62.js" defer></script><script src="/Blog/assets/js/32.e4ae16f7.js" defer></script>
  </body>
</html>
